System.register("chunks:///_virtual/touch-area.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ui-canvas.ts","./input-controller.ts"],(function(t){"use strict";var o,e,i,h,u,s,c,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,h=t.Size,u=t.Vec2,s=t.Component},function(t){c=t.default},function(t){n=t.default}],execute:function(){var r;e._RF.push({},"2f0cdXjIJFGVp3MEJXCPiPE","touch-area",void 0);var a=i.ccclass;i.property,t("TouchArea",a("TouchArea")(r=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(o=t.call.apply(t,[this].concat(i))||this).touchSize=new cc.Size,o.isEnableDebugTouch=!1,o.debugtouch=null,o.originalSize=new h(0,0),o.posTouchStart=new u(0,0),o.posTouchMove=new u(0,0),o.isTouchStart=!1,o}o(e,t);var i=e.prototype;return i.onLoad=function(){var t=this.node.getComponent("cc.UITransform");t&&(this.originalSize.width=t.contentSize.width,this.originalSize.height=t.contentSize.height)},i.start=function(){if(this.touchSize.width=this.node.getScale().x*this.originalSize.width,this.touchSize.height=this.node.getScale().y*this.originalSize.height,this.debugtouch=this.node.getChildByName("debug-touch"),this.debugtouch){this.debugtouch.active=this.isEnableDebugTouch;var t=this.debugtouch.getComponent("DebugTouchsize");t.updateTouchDebug(this.originalSize);var o=this.node.getComponent("cc.UITransform").contentSize;t.SetText(this.node.name+" "+Math.floor(o.width)+" "+Math.floor(o.height))}},i.update=function(t){this.debugtouch&&this.isEnableDebugTouch&&(this.IsTouchStart()&&this.debugtouch.getComponent("DebugTouchsize").SetText(Math.floor(this.posTouchStart.x)+" "+Math.floor(this.posTouchStart.y)))},i.UpdateTouchSize=function(t){(this.touchSize.width=Math.floor(this.node.getScale().x*t.x*this.originalSize.width),this.touchSize.height=Math.floor(this.node.getScale().y*t.y*this.originalSize.height),this.debugtouch&&1==this.debugtouch.active)&&this.debugtouch.getComponent("DebugTouchsize").SetText(""+this.touchSize)},i.SetEnableDebugTouch=function(t){this.isEnableDebugTouch=t,this.debugtouch&&(this.debugtouch.active=this.isEnableDebugTouch)},i.GetPosTouchStart=function(){return this.posTouchStart},i.SetTouchStartToMove=function(){this.posTouchStart.x=this.posTouchMove.x,this.posTouchStart.y=this.posTouchMove.y},i.IsTouchStart=function(){if(n.instance.IsTouchStart()){if(this.isTouchStart)return!0;if(this.isTouchStart=!0,this.posTouchStart=this.GetRealPosTouch(n.instance.GetPosTouchStart()),0==this.IsOutTouchArea(this.posTouchStart))return!0}return this.isTouchStart=!1,!1},i.IsTouchEnd=function(){if(0==this.isTouchStart)return!1;if(n.instance.IsTouchEnd())return this.isTouchStart=!1,!0;if(n.instance.IsTouchMove()){var t=this.GetRealPosTouch(n.instance.GetPosTouchMove());if(this.IsOutTouchArea(t))return this.isTouchStart=!1,!0}return!1},i.IsTouchMove=function(){return!(!n.instance.IsTouchMove()||(this.posTouchMove=this.GetRealPosTouch(n.instance.GetPosTouchMove()),0!=this.IsOutTouchArea(this.posTouchMove)))||(this.isTouchStart=!1,!1)},i.GetMoveVector=function(){var t=new u(0,0);return t.x=this.posTouchMove.x-this.posTouchStart.x,t.y=this.posTouchMove.y-this.posTouchStart.y,t},i.IsDoubleTouch=function(){return!(!this.IsTouchStart()||!n.instance.IsDoubleTouch())},i.IsOutTouchArea=function(t){return t.x<-this.touchSize.width/2||t.x>this.touchSize.width/2||(t.y<-this.touchSize.height/2||t.y>this.touchSize.height/2)},i.GetRealPosTouch=function(t){var o=new u(0,0);return o.x=t.x*c.instance.cavansTouchScale.x-this.node.worldPosition.x,o.y=t.y*c.instance.cavansTouchScale.y-this.node.worldPosition.y,o},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Rubik.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Cube.ts"],(function(o){"use strict";var r,s,i,e,p,n;return{setters:[function(o){r=o.createClass},function(o){s=o.cclegacy,i=o._decorator},function(o){e=o.CUBE_COLOR_POSITION,p=o.CUBE_COLOR_TYPE,n=o.Cube_Info}],execute:function(){var u,l,a;s._RF.push({},"32043HDAidPTokQ7vY7WWdf","Rubik",void 0);var t=i.ccclass;i.property,o("default",t("Rubik")((a=l=function(){function o(){this.rubikCubeInfo=[],this.saveRubikInfoName="Rubik_N_CubeInfo",this.rubikColorType=[],this.NORMAL_RUBIK_3X3=[{arrColorType:[5,0,2,0,1,0],isInFormula:!1,posi:0,posj:0,posk:0},{arrColorType:[0,0,2,0,1,0],isInFormula:!1,posi:0,posj:0,posk:1},{arrColorType:[0,6,2,0,1,0],isInFormula:!1,posi:0,posj:0,posk:2},{arrColorType:[5,0,2,0,0,0],isInFormula:!1,posi:0,posj:1,posk:0},{arrColorType:[0,0,2,0,0,0],isInFormula:!1,posi:0,posj:1,posk:1},{arrColorType:[0,6,2,0,0,0],isInFormula:!1,posi:0,posj:1,posk:2},{arrColorType:[5,0,2,0,0,3],isInFormula:!1,posi:0,posj:2,posk:0},{arrColorType:[0,0,2,0,0,3],isInFormula:!1,posi:0,posj:2,posk:1},{arrColorType:[0,6,2,0,0,3],isInFormula:!1,posi:0,posj:2,posk:2},{arrColorType:[5,0,0,0,1,0],isInFormula:!1,posi:1,posj:0,posk:0},{arrColorType:[0,0,0,0,1,0],isInFormula:!1,posi:1,posj:0,posk:1},{arrColorType:[0,6,0,0,1,0],isInFormula:!1,posi:1,posj:0,posk:2},{arrColorType:[5,0,0,0,0,0],isInFormula:!1,posi:1,posj:1,posk:0},{arrColorType:[0,6,0,0,0,0],isInFormula:!1,posi:1,posj:1,posk:2},{arrColorType:[5,0,0,0,0,3],isInFormula:!1,posi:1,posj:2,posk:0},{arrColorType:[0,0,0,0,0,3],isInFormula:!1,posi:1,posj:2,posk:1},{arrColorType:[0,6,0,0,0,3],isInFormula:!1,posi:1,posj:2,posk:2},{arrColorType:[5,0,0,4,1,0],isInFormula:!1,posi:2,posj:0,posk:0},{arrColorType:[0,0,0,4,1,0],isInFormula:!1,posi:2,posj:0,posk:1},{arrColorType:[0,6,0,4,1,0],isInFormula:!1,posi:2,posj:0,posk:2},{arrColorType:[5,0,0,4,0,0],isInFormula:!1,posi:2,posj:1,posk:0},{arrColorType:[0,0,0,4,0,0],isInFormula:!1,posi:2,posj:1,posk:1},{arrColorType:[0,6,0,4,0,0],isInFormula:!1,posi:2,posj:1,posk:2},{arrColorType:[5,0,0,4,0,3],isInFormula:!1,posi:2,posj:2,posk:0},{arrColorType:[0,0,0,4,0,3],isInFormula:!1,posi:2,posj:2,posk:1},{arrColorType:[0,6,0,4,0,3],isInFormula:!1,posi:2,posj:2,posk:2}]}var s=o.prototype;return s.Clone=function(o){for(var r=new Array(o.length),s=0;s<o.length;s++){var i=new n;i.posi=o[s].posi,i.posj=o[s].posj,i.posk=o[s].posk,i.arrColorType=[o[s].arrColorType[0],o[s].arrColorType[1],o[s].arrColorType[2],o[s].arrColorType[3],o[s].arrColorType[4],o[s].arrColorType[5]],i.isInFormula=o[s].isInFormula,r[s]=i}return r},s.GetArrayCubeInfo=function(){return this.rubikCubeInfo},s.SetArrayCubeInfo=function(o){this.rubikCubeInfo=o},s.SetDefault3x3Cube=function(){this.rubikCubeInfo=this.Clone(this.NORMAL_RUBIK_3X3)},s.SaveCurrentCubies=function(){cc.sys.localStorage.setItem(this.saveRubikInfoName,JSON.stringify(this.rubikCubeInfo))},s.LoadCubies=function(){var o=cc.sys.localStorage.getItem(this.saveRubikInfoName);o&&o.length>0?this.rubikCubeInfo=JSON.parse(o):this.SetDefault3x3Cube()},s.CheckCubiesSolve=function(){var o=(3+Math.sqrt(9+4*(this.rubikCubeInfo.length-8)))/4,r=o*o*o;this.rubikColorType.length!=r&&(this.rubikColorType=new Array(r));for(var s=0;s<this.rubikCubeInfo.length;s++){var i=this.rubikCubeInfo[s].posi*o*o+this.rubikCubeInfo[s].posj*o+this.rubikCubeInfo[s].posk;this.rubikColorType[i]=this.rubikCubeInfo[s].arrColorType}return 0!=this.CheckMatchedFloor(3)&&(console.log("matched floor3"),0!=this.CheckMatchedFloor(2)&&(console.log("matched floor2"),this.CheckMatchedFloor(1)&&console.log("matched floor1"),this.rubikColorType[0][0]==this.rubikColorType[o*o][0]&&this.rubikColorType[0][0]==this.rubikColorType[2*o*o][0]&&(console.log("----rubik solve---"),!0)))},s.CheckMatchedFloor=function(o){var r=(3+Math.sqrt(9+4*(this.rubikCubeInfo.length-8)))/4,s=(o-1)*r*r,i=o*r*r,n=this.rubikColorType[s],u=this.rubikColorType[i-1];if(n[e.COLOR_DOWN]!=u[e.COLOR_DOWN])return!1;if(n[e.COLOR_UP]!=u[e.COLOR_UP])return!1;for(var l=1;l<r*r-1;l++){var a=this.rubikColorType[l+s];if(a&&6==a.length)for(var t=0;t<6;t++)if(a[t]!=p.COLOR_NONE)if(n[t]!=p.COLOR_NONE){if(a[t]!=n[t])return!1}else if(u[t]!=p.COLOR_NONE&&a[t]!=u[t])return!1}return!0},r(o,null,[{key:"instance",get:function(){return null==o._instance&&(o._instance=new o),o._instance}}]),o}(),l._instance=null,u=a))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/camera-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,a,i,r,s,n,h,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,n=t.Vec3,h=t.Vec2,l=t.Quat,c=t.Component}],execute:function(){var u,m,p,y,f;r._RF.push({},"362e5llnR1MRr4gkiI6PYdB","camera-controller",void 0);var d=s.ccclass,x=s.property;t("CameraController",(u=d("CameraController"),m=x({type:cc.Node}),u((f=e((y=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"camera3d",f,i(e)),e.touchArea=null,e.rotateController=null,e.posDefault=new n,e.isChangePos=!1,e.minMove=new h(8,8),e.maxMove=new h(20,20),e.defaultCameraQuat=l.IDENTITY,e}o(e,t);var r=e.prototype;return r.start=function(){this.touchArea=this.node.getComponent("TouchArea"),this.rotateController=this.camera3d.getComponent("RotateController"),this.posDefault=this.node.getPosition()},r.update=function(t){if(this.touchArea)if(this.isChangePos&&this.touchArea.IsTouchEnd())this.node.setPosition(this.posDefault),this.isChangePos=!1;else if(this.touchArea.IsDoubleTouch())this.camera3d.setRotation(this.defaultCameraQuat),this.camera3d.children[0].lookAt(new n(0,0,0));else if(this.touchArea.IsTouchMove()){var e=this.touchArea.GetMoveVector();if(Math.abs(e.x)>this.minMove.x||Math.abs(e.y)>this.minMove.y){Math.min(e.x,this.maxMove.x);e.x<0&&Math.max(e.x,-this.maxMove.x);Math.min(e.y,this.maxMove.y);e.y<0&&Math.max(e.y,-this.maxMove.y),this.isChangePos=!0;var o=new h(0,0),a=new n(this.posDefault.x,this.posDefault.y,this.posDefault.z);Math.abs(e.x)>Math.abs(e.y)?(e.x<0?o.y=1:o.y=-1,a.x+=e.x-this.minMove.x):(e.y>0?o.x=1:o.x=-1,a.y+=e.y-this.minMove.y),this.node.setPosition(a),this.rotateController.RotateAround(new n(o.x,o.y,0),2),this.camera3d.children[0].lookAt(new n(0,0,0))}}},e}(c)).prototype,"camera3d",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/cube-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./rotate-controller.ts","./global.ts","./Rubik.ts","./Cube.ts","./game-controller.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,u,c,b,l,R,h,C,p,f,O,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,u=e.Node,c=e.Vec3,b=e.Component},function(e){l=e.ROTATE_TYPE},function(e){R=e.default},function(e){h=e.default},function(e){C=e.CUBE_COLOR_TYPE,p=e.CUBE_COLOR_POSITION,f=e.CUBE_COLOR,O=e.Cube_Info},function(e){d=e.default}],execute:function(){var g,k,y,z,_,S,v,L,N,D,E;r._RF.push({},"81a37Uk86FMxb/QhON3/b3W","cube-manager",void 0);var G=s.ccclass,I=s.property;e("default",(g=G("CubeManager"),k=I({type:cc.Integer}),y=I({type:cc.Node}),z=I(u),g((E=D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"RubikSize",v,a(t)),n(t,"textRotate",L,a(t)),n(t,"canvasNode",N,a(t)),t.DisplaySize=3,t.isGenerate=!1,t.rotateController=null,t.rotateInput=null,t.isAnyCubeRotating=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){t.__instacne=this.node.getComponent("CubeManager")},r.start=function(){this.rotateController=this.node.getComponent("RotateController"),this.canvasNode&&(this.rotateInput=this.canvasNode.getComponent("CubeInput"))},r.update=function(e){if(R.instance.IsLoadres()&&0==this.isGenerate&&(h.instance.LoadCubies(),this.LoadRubik(h.instance.GetArrayCubeInfo()),this.isGenerate=!0),this.isGenerate&&(this.UpdateCubiesStatus(),this.rotateInput&&0==this.isAnyCubeRotating)){var t=this.rotateInput.PopRotate();t!=l.NONE&&this.RotateCube(t)}},r.GetRubikSize=function(){return this.RubikSize},r.LoadRubik=function(e){var t=(3+Math.sqrt(9+4*(e.length-8)))/4;this.RubikSize=t;for(var i=1*t/2,n=0,a=0,o=0,r=0;r<e.length;r++){var s=e[r];n=.5-i+1*s.posk,a=i-.5-1*s.posi,o=i-.5-1*s.posj;var u=cc.instantiate(R.instance.GetPrefab("cube"));u.setPosition(0,0,0),u.name="cube"+(s.posi*t*t+s.posj*t+s.posk),this.node.addChild(u),u.getComponent("Cube").InitCubeInfo(s,new c(n,a,o))}var b=this.DisplaySize/t;this.node.setScale(b,b,b)},r.GenerateRubik=function(){var e=1*this.RubikSize/2,t=0,i=0,n=0;i=e-.5;for(var a=4*this.RubikSize*this.RubikSize-6*this.RubikSize+8,o=new Array(a),r=0,s=0;s<this.RubikSize;s++){this.RubikSize,this.RubikSize;s>0&&s<=this.RubikSize-2&&2*this.RubikSize+2*this.RubikSize-2,n=e-.5;for(var u=0;u<this.RubikSize;u++){t=.5-e;for(var b=0;b<this.RubikSize;b++){var l=new O;l.posi=s,l.posj=u,l.posk=b,l.arrColorType=[C.COLOR_NONE,C.COLOR_NONE,C.COLOR_NONE,C.COLOR_NONE,C.COLOR_NONE,C.COLOR_NONE];var f,d,g,k,y,z;if(f=0==b,d=b==this.RubikSize-1,g=0==s,k=s==this.RubikSize-1,y=0==u,z=u==this.RubikSize-1,f&&(l.arrColorType[p.COLOR_LEFT]=C.COLOR_5),d&&(l.arrColorType[p.COLOR_RIGHT]=C.COLOR_6),g&&(l.arrColorType[p.COLOR_UP]=C.COLOR_2),k&&(l.arrColorType[p.COLOR_DOWN]=C.COLOR_4),y&&(l.arrColorType[p.COLOR_FRONT]=C.COLOR_1),z&&(l.arrColorType[p.COLOR_BACK]=C.COLOR_3),f||d||g||k||y||z){var _=cc.instantiate(R.instance.GetPrefab("cube"));_.setPosition(0,0,0),_.name="cube"+(l.posi*this.RubikSize*this.RubikSize+l.posj*this.RubikSize+l.posk),this.node.addChild(_),o[r]=l,r++,_.getComponent("Cube").InitCubeInfo(l,new c(t,i,n))}t+=1}n-=1}i-=1}var S=this.DisplaySize/this.RubikSize;this.node.setScale(S,S,S),h.instance.SetArrayCubeInfo(o)},r.GetPrefabColor=function(e){switch(d.instance.currentRubikColor[e]){case f.YELLOW:return R.instance.GetPrefab("cubey");case f.ORANGE:return R.instance.GetPrefab("cubeo");case f.BLUE:return R.instance.GetPrefab("cubeb");case f.RED:return R.instance.GetPrefab("cuber");case f.GREEN:return R.instance.GetPrefab("cubeg");case f.WHILE:return R.instance.GetPrefab("cubew")}return R.instance.GetPrefab("cuben")},r.RotateCube=function(e){switch(e){case l.x:case l.xa:case l.y:case l.ya:case l.z:case l.za:for(var t=0;t<this.node.children.length;t++){var i=this.node.children[t].getComponent("Cube");e==l.x?(i.DoRotate(l.la),i.DoRotate(l.R)):e==l.y?(i.DoRotate(l.u),i.DoRotate(l.Da)):e==l.ya?(i.DoRotate(l.ua),i.DoRotate(l.D)):e==l.xa?(i.DoRotate(l.l),i.DoRotate(l.Ra)):e==l.z?(i.DoRotate(l.f),i.DoRotate(l.Ba)):e==l.za&&(i.DoRotate(l.fa),i.DoRotate(l.B))}break;default:for(var n=0;n<this.node.children.length;n++){this.node.children[n].getComponent("Cube").DoRotate(e)}}var a=h.instance.CheckCubiesSolve();if(this.textRotate){var o=this.textRotate.getComponent("cc.RichText");o&&(o.string.length>22&&(o.string=""),o.string+=" "+e,a&&(o.string="rubik solved"))}},r.UpdateCubiesStatus=function(){var e=this;this.isAnyCubeRotating=!1,this.node.children.forEach((function(t){t.getComponent("RotateController").IsRotating()&&(e.isAnyCubeRotating=!0)}))},o(t,null,[{key:"instance",get:function(){return t.__instacne}}]),t}(b),D.__instacne=null,v=t((S=E).prototype,"RubikSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),L=t(S.prototype,"textRotate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(S.prototype,"canvasNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=S))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/global.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t._decorator}],execute:function(){var r,a,c;e._RF.push({},"bc7f75Yp7RA7ovPd6ScLeAz","global",void 0);var s=i.ccclass;i.property,t("default",s("Global")((c=a=function(){function t(){this.initialized=!1,this.prefabs={}}var e=t.prototype;return e.Init=function(){var t=this;this.initialized||cc.resources.loadDir("Prefabs",(function(n,e){e&&e.forEach((function(n){t.prefabs[n.data._name.toLowerCase()]=n})),t.initialized=!0}))},e.IsLoadres=function(){return this.initialized},e.GetPrefab=function(t){return this.prefabs[t]},n(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}(),a._instance=null,r=c))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/input-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game-controller.ts","./ui-canvas.ts"],(function(t){"use strict";var o,e,n,i,c,s,h,u,r,T,a,l;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,i=t._decorator,c=t.Vec2,s=t.Vec3,h=t.systemEvent,u=t.SystemEventType,r=t.macro,T=t.Component},function(t){a=t.default},function(t){l=t.default}],execute:function(){var d,p,f;n._RF.push({},"dfe8fhSsftEu5rjOUoMW3fv","input-controller",void 0);var v=i.ccclass;i.property,t("default",v("InputController")((f=p=function(t){function n(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).posTouchStart=new c,o.posTouchMove=new c,o.posTouchEnd=new c,o.isTouchMove=!1,o.isTouchEnd=!0,o.isTouchStart=!1,o.timeDoubleTap=.35,o.canvasAnchor=new c,o.nodePosition=new s,o.timePreTouchStart=0,o.timeCurrentTouchStart=0,o.arrayDeltaTimeTouch=[],o.indextDeltaTimeTouch=-1,o}o(n,t);var i=n.prototype;return i.onLoad=function(){n._instance=this.node.getComponent("InputController")},i.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),h.on(u.KEY_DOWN,this.onKeyDown,this)},i.update=function(t){},i.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),h.off(u.KEY_DOWN,this.onKeyDown,this)},i.onKeyDown=function(t){switch(console.log("keydown: "+t.keyCode),t.keyCode){case r.KEY.back:case r.KEY.backspace:l.instance.ShowExitPopUp(!0)}},i.onTouchStart=function(t){var o=t.getLocation();console.log("-on touch start: "+o),this.timePreTouchStart=this.timeCurrentTouchStart,this.timeCurrentTouchStart=a.instance.GetCurrentTime(),this.isTouchStart=!0,this.isTouchEnd=!1,this.posTouchStart=o},i.onTouchEnd=function(t){var o=t.getLocation();this.isTouchMove=!1,this.isTouchEnd=!0,this.isTouchStart=!1,this.posTouchEnd=o,this.indextDeltaTimeTouch=-1},i.onTouchMove=function(t){var o=t.getLocation();this.posTouchMove=o,this.isTouchEnd=!1,this.isTouchMove=!0},i.IsTouchStart=function(){return this.isTouchStart},i.IsTouchEnd=function(){return this.isTouchEnd},i.IsTouchMove=function(){return this.isTouchMove},i.GetMoveVector=function(){var t=new c(0,0);return(this.isTouchMove||this.isTouchEnd)&&(t.x=this.posTouchMove.x-this.posTouchStart.x,t.y=this.posTouchMove.y-this.posTouchStart.y),t},i.IsDoubleTouch=function(){return this.timeCurrentTouchStart!=this.timePreTouchStart&&this.timeCurrentTouchStart-this.timePreTouchStart<this.timeDoubleTap},i.GetPosTouchStart=function(){return this.posTouchStart},i.GetPosTouchMove=function(){return this.posTouchMove},i.GetPosTouchEnd=function(){return this.posTouchEnd},i.SetTouchStartToMove=function(){this.posTouchStart.x=this.posTouchMove.x,this.posTouchStart.y=this.posTouchMove.y},i.SetNodePosition=function(t){},i.SetDeltaTimeTouch=function(t){this.arrayDeltaTimeTouch=t},i.IsTouchOnDeltaTime=function(){if(0==this.isTouchStart)return!1;if(this.indextDeltaTimeTouch<0)return this.indextDeltaTimeTouch=0,console.log("input first touch"),!0;var t=a.instance.GetCurrentTime()-this.timeCurrentTouchStart;return t>this.arrayDeltaTimeTouch[this.indextDeltaTimeTouch]&&(console.log("input touch : "+this.indextDeltaTimeTouch+" deltatime: "+t),this.indextDeltaTimeTouch++,!0)},e(n,null,[{key:"instance",get:function(){return n._instance}}]),n}(T),p._instance=null,d=f))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/rotate-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,s,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,s=t._decorator,i=t.Vec3,o=t.Quat,r=t.Component}],execute:function(){var n;t("ROTATE_TYPE",void 0),a._RF.push({},"e3177sKDvRKe55pheeHXC3q","rotate-controller",void 0);var c,u=s.ccclass;s.property;!function(t){t.NONE="",t.x="x",t.xa="x'",t.y="y",t.ya="y'",t.z="z",t.za="z'",t.U="U",t.Ua="U'",t.u="u",t.ua="u'",t.D="D",t.Da="D'",t.d="d",t.da="d'",t.R="R",t.Ra="R'",t.r="r",t.ra="r'",t.L="L",t.La="L'",t.l="l",t.la="l'",t.B="B",t.Ba="B'",t.b="b",t.ba="b'",t.F="F",t.Fa="F'",t.f="f",t.fa="f'",t.M="M",t.Ma="M'",t.E="E",t.Ea="E'",t.S="S",t.Sa="S'"}(c||(c=t("ROTATE_TYPE",{})));t("default",u("RotateController")(n=function(t){function a(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).timeRotateStart=0,e.isRotate=!1,e.timeRotate=0,e.rorateAxis=new i,e.rotateAngle=0,e.targetAngle=new i,e.targetQuat=new o,e}e(a,t);var s=a.prototype;return s.start=function(){this.timeRotateStart=0,this.rotateAngle=90,this.timeRotate=1},s.update=function(t){if(this.isRotate)if(this.timeRotateStart+=t,this.timeRotateStart>=this.timeRotate)this.isRotate=!1,this.node.setRotation(this.targetQuat);else{var e=new o;o.fromAxisAngle(e,this.rorateAxis,this.rotateAngle/this.timeRotate*t*(3.14159265/180));var a=new o,s=new o;this.node.getRotation(a),o.multiply(s,e,a),this.node.setRotation(s)}},s.DoRotate=function(t){if(this.isRotate)return!1;switch(t){case c.x:case c.Ma:case c.R:case c.r:case c.La:case c.la:this.rorateAxis=new i(-1,0,0);break;case c.xa:case c.M:case c.Ra:case c.ra:case c.L:case c.l:this.rorateAxis=new i(1,0,0);break;case c.y:case c.U:case c.u:case c.Da:case c.da:case c.Ea:this.rorateAxis=new i(0,-1,0);break;case c.ya:case c.Ua:case c.ua:case c.D:case c.d:case c.E:this.rorateAxis=new i(0,1,0);break;case c.F:case c.f:case c.Ba:this.rorateAxis=new i(0,0,-1);break;case c.Fa:case c.fa:case c.B:this.rorateAxis=new i(0,0,1)}this.isRotate=!0,this.timeRotateStart=0;var e=new o;o.fromAxisAngle(e,this.rorateAxis,this.rotateAngle*(3.14159265/180));var a=new o;return this.node.getRotation(a),o.multiply(this.targetQuat,e,a),!0},s.SetTimeRotate=function(t){this.timeRotate=t},s.RotateAround=function(t,e){var a=new o;o.fromAxisAngle(a,t,e*(3.14159265/180));var s=new o,i=new o;this.node.getRotation(s),o.multiply(i,a,s),this.node.setRotation(i)},s.IsRotating=function(){return this.isRotate},a}(r))||n);a._RF.pop()}}}));

System.register("chunks:///_virtual/Cube.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./rotate-controller.ts","./global.ts","./cube-manager.ts"],(function(e){"use strict";var o,t,r,a,s,n,i,O,C;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,a=e.Vec3,s=e.Node,n=e.Component},function(e){i=e.ROTATE_TYPE},function(e){O=e.default},function(e){C=e.default}],execute:function(){var c;e({CUBE_COLOR:void 0,CUBE_COLOR_POSITION:void 0,CUBE_COLOR_TYPE:void 0,CUBE_TYPE:void 0}),t._RF.push({},"e6043S8S0pP2I0Tiwi1sSmz","Cube",void 0);var u,l,R,h,f=r.ccclass;r.property;!function(e){e[e.CENTER=0]="CENTER",e[e.CORNER=1]="CORNER",e[e.EDGE=2]="EDGE",e[e.NONE=3]="NONE"}(u||(u=e("CUBE_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.RED=1]="RED",e[e.YELLOW=2]="YELLOW",e[e.ORANGE=3]="ORANGE",e[e.WHILE=4]="WHILE",e[e.BLUE=5]="BLUE",e[e.GREEN=6]="GREEN"}(l||(l=e("CUBE_COLOR",{}))),function(e){e[e.COLOR_NONE=0]="COLOR_NONE",e[e.COLOR_1=1]="COLOR_1",e[e.COLOR_2=2]="COLOR_2",e[e.COLOR_3=3]="COLOR_3",e[e.COLOR_4=4]="COLOR_4",e[e.COLOR_5=5]="COLOR_5",e[e.COLOR_6=6]="COLOR_6"}(R||(R=e("CUBE_COLOR_TYPE",{}))),function(e){e[e.COLOR_LEFT=0]="COLOR_LEFT",e[e.COLOR_RIGHT=1]="COLOR_RIGHT",e[e.COLOR_UP=2]="COLOR_UP",e[e.COLOR_DOWN=3]="COLOR_DOWN",e[e.COLOR_FRONT=4]="COLOR_FRONT",e[e.COLOR_BACK=5]="COLOR_BACK"}(h||(h=e("CUBE_COLOR_POSITION",{})));e("Cube_Info",(function(){this.arrColorType=[],this.isInFormula=!1,this.posi=0,this.posj=0,this.posk=0})),e("default",f("Cube")(c=function(e){function t(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(o=e.call.apply(e,[this].concat(r))||this).scalerate=.025,o.normalScale=1-o.scalerate,o.SCALE_L=new a(o.scalerate,o.normalScale,o.normalScale),o.SCALE_R=new a(o.scalerate,o.normalScale,o.normalScale),o.SCALE_U=new a(o.normalScale,o.scalerate,o.normalScale),o.SCALE_D=new a(o.normalScale,o.scalerate,o.normalScale),o.SCALE_F=new a(o.normalScale,o.normalScale,o.scalerate),o.SCALE_B=new a(o.normalScale,o.normalScale,o.scalerate),o.POS_L=new a(-(.5-o.scalerate/2),0,0),o.POS_R=new a(.5-o.scalerate/2,0,0),o.POS_U=new a(0,.5-o.scalerate/2,0),o.POS_D=new a(0,-(.5-o.scalerate/2),0),o.POS_F=new a(0,0,.5-o.scalerate/2),o.POS_B=new a(0,0,-(.5-o.scalerate/2)),o.cubeType=u.NONE,o.cubeInfo=null,o.nodeCube=null,o.rotateController=null,o}o(t,e);var r=t.prototype;return r.start=function(){this.rotateController=this.node.getComponent("RotateController")},r.InitCubeInfo=function(e,o){this.cubeInfo=e;var t=O.instance.GetPrefab("cuben"),r=cc.instantiate(t);r.setScale(this.normalScale,this.normalScale,this.normalScale),this.nodeCube=new s,this.nodeCube.addChild(r),this.nodeCube.setPosition(o),this.AddCubeColor(this.cubeInfo.arrColorType),this.node.addChild(this.nodeCube)},r.AddCubeColor=function(e){var o=null,t=0;if(e[h.COLOR_LEFT]!=R.COLOR_NONE){var r=C.instance.GetPrefabColor(e[h.COLOR_LEFT]);o=cc.instantiate(r),this.nodeCube.addChild(o),o.setScale(this.SCALE_L),o.setPosition(this.POS_L),t++}if(e[h.COLOR_RIGHT]!=R.COLOR_NONE){var a=C.instance.GetPrefabColor(e[h.COLOR_RIGHT]);o=cc.instantiate(a),this.nodeCube.addChild(o),o.setScale(this.SCALE_R),o.setPosition(this.POS_R),t++}if(e[h.COLOR_UP]!=R.COLOR_NONE){var s=C.instance.GetPrefabColor(e[h.COLOR_UP]);o=cc.instantiate(s),this.nodeCube.addChild(o),o.setScale(this.SCALE_U),o.setPosition(this.POS_U),t++}if(e[h.COLOR_DOWN]!=R.COLOR_NONE){var n=C.instance.GetPrefabColor(e[h.COLOR_DOWN]);o=cc.instantiate(n),this.nodeCube.addChild(o),o.setScale(this.SCALE_D),o.setPosition(this.POS_D),t++}if(e[h.COLOR_FRONT]!=R.COLOR_NONE){var i=C.instance.GetPrefabColor(e[h.COLOR_FRONT]);o=cc.instantiate(i),this.nodeCube.addChild(o),o.setScale(this.SCALE_F),o.setPosition(this.POS_F),t++}if(e[h.COLOR_BACK]!=R.COLOR_NONE){var O=C.instance.GetPrefabColor(e[h.COLOR_BACK]);o=cc.instantiate(O),this.nodeCube.addChild(o),o.setScale(this.SCALE_B),o.setPosition(this.POS_B),t++}this.cubeType=3==t?u.CORNER:2==t?u.EDGE:u.CENTER},r.DoRotate=function(e){var o=C.instance.GetRubikSize();switch(e){case i.L:case i.La:if(0==this.cubeInfo.posk&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.R:case i.Ra:if(this.cubeInfo.posk==o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.U:case i.Ua:if(0==this.cubeInfo.posi&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.D:case i.Da:if(this.cubeInfo.posi==o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.M:case i.Ma:if(0!=this.cubeInfo.posk&&this.cubeInfo.posk!=o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.F:case i.Fa:if(0==this.cubeInfo.posj&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.B:case i.Ba:if(this.cubeInfo.posj==o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.l:case i.la:if(this.cubeInfo.posk!=o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.r:case i.ra:if(0!=this.cubeInfo.posk&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.u:case i.ua:if(this.cubeInfo.posi!=o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.d:case i.da:if(0!=this.cubeInfo.posi&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0;break;case i.f:case i.fa:if(this.cubeInfo.posj!=o-1&&this.rotateController.DoRotate(e))return this.UpdateCubeInfo(e),!0}return!1},r.UpdateCubeInfo=function(e){var o=C.instance.GetRubikSize()-1,t=0;switch(e){case i.L:case i.l:case i.M:case i.Ra:case i.ra:t=this.cubeInfo.posi,this.cubeInfo.posi=o-this.cubeInfo.posj,this.cubeInfo.posj=t,t=this.cubeInfo.arrColorType[h.COLOR_UP],this.cubeInfo.arrColorType[h.COLOR_UP]=this.cubeInfo.arrColorType[h.COLOR_BACK],this.cubeInfo.arrColorType[h.COLOR_BACK]=this.cubeInfo.arrColorType[h.COLOR_DOWN],this.cubeInfo.arrColorType[h.COLOR_DOWN]=this.cubeInfo.arrColorType[h.COLOR_FRONT],this.cubeInfo.arrColorType[h.COLOR_FRONT]=t;break;case i.R:case i.r:case i.La:case i.la:case i.Ma:t=this.cubeInfo.posj,this.cubeInfo.posj=o-this.cubeInfo.posi,this.cubeInfo.posi=t,t=this.cubeInfo.arrColorType[h.COLOR_UP],this.cubeInfo.arrColorType[h.COLOR_UP]=this.cubeInfo.arrColorType[h.COLOR_FRONT],this.cubeInfo.arrColorType[h.COLOR_FRONT]=this.cubeInfo.arrColorType[h.COLOR_DOWN],this.cubeInfo.arrColorType[h.COLOR_DOWN]=this.cubeInfo.arrColorType[h.COLOR_BACK],this.cubeInfo.arrColorType[h.COLOR_BACK]=t;break;case i.U:case i.u:case i.Da:case i.da:t=this.cubeInfo.posj,this.cubeInfo.posj=o-this.cubeInfo.posk,this.cubeInfo.posk=t,t=this.cubeInfo.arrColorType[h.COLOR_FRONT],this.cubeInfo.arrColorType[h.COLOR_FRONT]=this.cubeInfo.arrColorType[h.COLOR_RIGHT],this.cubeInfo.arrColorType[h.COLOR_RIGHT]=this.cubeInfo.arrColorType[h.COLOR_BACK],this.cubeInfo.arrColorType[h.COLOR_BACK]=this.cubeInfo.arrColorType[h.COLOR_LEFT],this.cubeInfo.arrColorType[h.COLOR_LEFT]=t;break;case i.Ua:case i.ua:case i.D:case i.d:t=this.cubeInfo.posk,this.cubeInfo.posk=o-this.cubeInfo.posj,this.cubeInfo.posj=t,t=this.cubeInfo.arrColorType[h.COLOR_FRONT],this.cubeInfo.arrColorType[h.COLOR_FRONT]=this.cubeInfo.arrColorType[h.COLOR_LEFT],this.cubeInfo.arrColorType[h.COLOR_LEFT]=this.cubeInfo.arrColorType[h.COLOR_BACK],this.cubeInfo.arrColorType[h.COLOR_BACK]=this.cubeInfo.arrColorType[h.COLOR_RIGHT],this.cubeInfo.arrColorType[h.COLOR_RIGHT]=t;break;case i.F:case i.f:case i.Ba:t=this.cubeInfo.posk,this.cubeInfo.posk=o-this.cubeInfo.posi,this.cubeInfo.posi=t,t=this.cubeInfo.arrColorType[h.COLOR_LEFT],this.cubeInfo.arrColorType[h.COLOR_LEFT]=this.cubeInfo.arrColorType[h.COLOR_DOWN],this.cubeInfo.arrColorType[h.COLOR_DOWN]=this.cubeInfo.arrColorType[h.COLOR_RIGHT],this.cubeInfo.arrColorType[h.COLOR_RIGHT]=this.cubeInfo.arrColorType[h.COLOR_UP],this.cubeInfo.arrColorType[h.COLOR_UP]=t;break;case i.Fa:case i.fa:case i.B:t=this.cubeInfo.posi,this.cubeInfo.posi=o-this.cubeInfo.posk,this.cubeInfo.posk=t,t=this.cubeInfo.arrColorType[h.COLOR_LEFT],this.cubeInfo.arrColorType[h.COLOR_LEFT]=this.cubeInfo.arrColorType[h.COLOR_UP],this.cubeInfo.arrColorType[h.COLOR_UP]=this.cubeInfo.arrColorType[h.COLOR_RIGHT],this.cubeInfo.arrColorType[h.COLOR_RIGHT]=this.cubeInfo.arrColorType[h.COLOR_DOWN],this.cubeInfo.arrColorType[h.COLOR_DOWN]=t}},r.GetCubeInfo=function(){return this.cubeInfo},t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/game-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./global.ts","./Rubik.ts","./Cube.ts"],(function(t){"use strict";var n,e,o,r,c,i,u,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,r=t._decorator,c=t.Component},function(t){i=t.default},function(t){u=t.default},function(t){a=t.CUBE_COLOR}],execute:function(){var l,s,f;o._RF.push({},"ee6ccT8emJA17BOvUrVuQva","game-controller",void 0);var m=r.ccclass;r.property,t("default",m("GameController")((f=s=function(t){function o(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).timeTotal=0,n.currentRubikColor=[a.NONE,a.RED,a.YELLOW,a.ORANGE,a.WHILE,a.BLUE,a.GREEN],n}n(o,t);var r=o.prototype;return r.onLoad=function(){o._instance=this.node.getComponent("GameController"),i.instance.Init()},r.start=function(){},r.update=function(t){this.timeTotal+=t},r.GetCurrentTime=function(){return this.timeTotal},r.ExitGame=function(){u.instance.SaveCurrentCubies(),cc.game.end()},e(o,null,[{key:"instance",get:function(){return o._instance}}]),o}(c),s._instance=null,l=f))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/cube-input.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./rotate-controller.ts"],(function(t){"use strict";var e,o,r,h,i,u,c,a,n,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,h=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,c=t.Node,a=t.Vec2,n=t.Component},function(t){s=t.ROTATE_TYPE}],execute:function(){var p,A,l,S,x,b,d,T,y,f,I;i._RF.push({},"f889eTb8udPX6PxCuq8nndA","cube-input",void 0);var m=u.ccclass,g=u.property;t("CubeInput",(p=m("CubeInput"),A=g(c),l=g(c),S=g(c),x=g(c),p((T=e((d=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,r(e,"touchCubeNode",T,h(e)),r(e,"touchBottomNode",y,h(e)),r(e,"touchRightNode",f,h(e)),r(e,"touchTopNode",I,h(e)),e.minMove=new a(120,120),e.touchAreaCubeScript=null,e.touchAreaBottomScript=null,e.touchAreaRightScript=null,e.touchAreaTopScript=null,e.touchAreaTop=new a,e.touchAreabottom=new a,e.touchAreaRight=new a,e.touhcAreaLeft=new a,e.touchAreaCenterHorizontal=new a,e.touchAreaCenterVertical=new a,e.rotateQueue=[],e.maxRotateQueue=10,e.currentIndex=-1,e}o(e,t);var i=e.prototype;return i.start=function(){this.rotateQueue=new Array(this.maxRotateQueue),this.currentIndex=-1,this.touchCubeNode&&(this.touchAreaCubeScript=this.touchCubeNode.getComponent("TouchArea")),this.touchBottomNode&&(this.touchAreaBottomScript=this.touchBottomNode.getComponent("TouchArea")),this.touchRightNode&&(this.touchAreaRightScript=this.touchRightNode.getComponent("TouchArea")),this.touchTopNode&&(this.touchAreaTopScript=this.touchTopNode.getComponent("TouchArea")),this.UpdateCubeTouchSize()},i.update=function(t){if(this.touchAreaCubeScript&&this.touchAreaCubeScript.IsTouchStart()&&this.touchAreaCubeScript.IsTouchMove()){var e=this.touchAreaCubeScript.GetPosTouchStart(),o=this.touchAreaCubeScript.GetMoveVector(),r=this.touchAreaCubeScript.IsDoubleTouch();if(Math.abs(o.x)>this.minMove.x||Math.abs(o.y)>this.minMove.y){var h=s.NONE;Math.abs(o.x)>Math.abs(o.y)?this.IsInArea(e.y,this.touchAreaTop)?h=r?o.x>0?s.ua:s.u:o.x>0?s.Ua:s.U:this.IsInArea(e.y,this.touchAreaCenterHorizontal)?h=r?o.x>0?s.f:s.fa:o.x>0?s.F:s.Fa:this.IsInArea(e.y,this.touchAreabottom)&&(h=r?o.x>0?s.d:s.da:o.x>0?s.D:s.Da):this.IsInArea(e.x,this.touhcAreaLeft)?h=r?o.y>0?s.la:s.l:o.y>0?s.La:s.L:this.IsInArea(e.x,this.touchAreaCenterVertical)?h=r?o.y>0?s.Ba:s.B:o.y>0?s.Ma:s.M:this.IsInArea(e.x,this.touchAreaRight)&&(h=r?o.y>0?s.r:s.ra:o.y>0?s.R:s.Ra),this.PushRotate(h),this.touchAreaCubeScript.SetTouchStartToMove()}}if(this.touchAreaTopScript&&this.touchAreaTopScript.IsTouchStart()&&this.touchAreaTopScript.IsTouchMove()){var i=this.touchAreaTopScript.GetMoveVector();Math.abs(i.x)>this.minMove.x&&(i.x>0?this.PushRotate(s.z):this.PushRotate(s.za),this.touchAreaTopScript.SetTouchStartToMove())}if(this.touchAreaBottomScript&&this.touchAreaBottomScript.IsTouchStart()&&this.touchAreaBottomScript.IsTouchMove()){var u=this.touchAreaBottomScript.GetMoveVector();Math.abs(u.x)>this.minMove.x&&(u.x>0?this.PushRotate(s.ya):this.PushRotate(s.y),this.touchAreaBottomScript.SetTouchStartToMove())}if(this.touchAreaRightScript&&this.touchAreaRightScript.IsTouchStart()&&this.touchAreaRightScript.IsTouchMove()){var c=this.touchAreaRightScript.GetMoveVector();Math.abs(c.y)>this.minMove.y&&(c.y>0?this.PushRotate(s.x):this.PushRotate(s.xa),this.touchAreaRightScript.SetTouchStartToMove())}},i.UpdateCubeTouchSize=function(){if(this.touchAreaCubeScript){var t=this.touchAreaCubeScript.touchSize,e=new a(0,0);this.touchAreaTop.x=e.y+t.height/6,this.touchAreaTop.y=e.y+t.height/2,this.touchAreaCenterHorizontal.x=e.y-t.height/6,this.touchAreaCenterHorizontal.y=e.y+t.height/6,this.touchAreabottom.x=e.y-t.height/2,this.touchAreabottom.y=e.y-t.height/6,this.touchAreaRight.x=e.x+t.width/6,this.touchAreaRight.y=e.x+t.width/2,this.touchAreaCenterVertical.x=e.x-t.width/6,this.touchAreaCenterVertical.y=e.x+t.width/6,this.touhcAreaLeft.x=e.x-t.width/2,this.touhcAreaLeft.y=e.x-t.width/6}},i.PushRotate=function(t){this.currentIndex<this.maxRotateQueue-1&&this.currentIndex++,this.currentIndex<0&&(this.currentIndex=0),this.rotateQueue[this.currentIndex]=t},i.PopRotate=function(){if(this.currentIndex>=0){for(var t=this.rotateQueue[0],e=0;e<this.currentIndex;e++)this.rotateQueue[e]=this.rotateQueue[e+1];return this.currentIndex--,t}return s.NONE},i.IsInArea=function(t,e){return t>e.x&&t<e.y},e}(n)).prototype,"touchCubeNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(d.prototype,"touchBottomNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(d.prototype,"touchRightNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(d.prototype,"touchTopNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/ui-canvas.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./rotate-controller.ts","./cube-manager.ts","./game-controller.ts"],(function(e){"use strict";var t,n,i,a,o,c,r,s,h,u,l,S,p,d,v,f,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,r=e._decorator,s=e.Node,h=e.Label,u=e.Size,l=e.Vec3,S=e.SystemEventType,p=e.Component},function(e){d=e.default,v=e.ROTATE_TYPE},function(e){f=e.default},function(e){z=e.default}],execute:function(){var g,C,w,y,T,b,m,U,x,E,R;c._RF.push({},"fb722vQ185E7pYLR03jpZfs","ui-canvas",void 0);var P=r.ccclass,_=r.property;e("default",(g=P("UiCanvas"),C=_({type:d}),w=_(s),y=_({type:h}),g((R=E=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"testRotate",m,a(t)),i(t,"ExitPopUP",U,a(t)),i(t,"debugscreenSizeLabel",x,a(t)),t.canvasOriginalSize=new u(480,800),t.canvasCurrentScale=new l(1,1,1),t.cavasTouchScreenSize=new u(0,0),t.cavansTouchScale=new u(1,1),t}n(t,e);var c=t.prototype;return c.onLoad=function(){t._instance=this.node.getComponent("UiCanvas"),this.cavasTouchScreenSize.width=this.canvasOriginalSize.width,this.cavasTouchScreenSize.height=this.cavasTouchScreenSize.height,this.node.on(S.TRANSFORM_CHANGED,this.onWindowSizeChange,this)},c.start=function(){this.ShowExitPopUp(!1)},c.onDestroy=function(){this.node.on(S.TRANSFORM_CHANGED,this.onWindowSizeChange,this)},c.update=function(e){},c.onWindowSizeChange=function(){var e=this.node.getComponent("cc.Canvas").cameraComponent,t=e.camera._device.width,n=e.camera._device.height;console.log("on window change: "+t+" - "+n),this.cavasTouchScreenSize.width=t,this.cavasTouchScreenSize.height=n,this.UpdateSize()},c.UpdateSize=function(){var e=this.node.getChildByName("UI"),t=this.node.getComponent("cc.UITransform");this.canvasCurrentScale.x=t.contentSize.width/this.canvasOriginalSize.width,this.canvasCurrentScale.y=t.contentSize.height/this.canvasOriginalSize.height,this.cavansTouchScale.x=t.contentSize.width/this.cavasTouchScreenSize.width,this.cavansTouchScale.y=t.contentSize.height/this.cavasTouchScreenSize.height,e.setScale(new l(this.canvasCurrentScale.x,this.canvasCurrentScale.y,this.canvasCurrentScale.z)),this.debugscreenSizeLabel;for(var n=0;n<e.children.length;n++)this.UpdateTouchSize(e.children[n]);var i=this.node.getComponent("CubeInput");i&&i.UpdateCubeTouchSize()},c.UpdateTouchSize=function(e){var t=this;if(0!=e.children.length){var n=e.getComponent("TouchArea");n&&n.UpdateTouchSize(this.canvasCurrentScale),e.children.forEach((function(e){t.UpdateTouchSize(e)}))}},c.OnButtonRotate=function(e,t){var n=v.x;"xa"==t?n=v.xa:"y"==t?n=v.y:"ya"==t?n=v.ya:"z"==t?n=v.z:"za"==t&&(n=v.za),f.instance.RotateCube(n),this.testRotate&&this.testRotate.DoRotate(n)},c.ShowExitPopUp=function(e){this.ExitPopUP&&(this.ExitPopUP.active=e)},c.OnButtonExitNo=function(){this.ShowExitPopUp(!1)},c.OnButtonExitYes=function(){z.instance.ExitGame()},o(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(p),E._instance=null,m=t((b=R).prototype,"testRotate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(b.prototype,"ExitPopUP",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(b.prototype,"debugscreenSizeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=b))||T));c._RF.pop()}}}));

System.register("chunks:///_virtual/debug-touchsize.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Component}],execute:function(){var s;o._RF.push({},"fe75e1Vn39Ckp6yupnlAoZC","debug-touchsize",void 0);var c=n.ccclass;n.property,t("DebugTouchsize",c("DebugTouchsize")(s=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.onLoad=function(){this.labelPosition=this.node.getComponentInChildren("cc.Label")},n.start=function(){},n.updateTouchDebug=function(t){var e=this.node.getChildByName("left");e&&(e.getComponent("cc.UITransform").setContentSize(2,t.height),e.setPosition(-t.width/2+1,0,0)),(e=this.node.getChildByName("right"))&&(e.getComponent("cc.UITransform").setContentSize(2,t.height),e.setPosition(t.width/2-1,0,0)),(e=this.node.getChildByName("top"))&&(e.getComponent("cc.UITransform").setContentSize(t.width,2),e.setPosition(0,t.height/2-1,0)),(e=this.node.getChildByName("bot"))&&(e.getComponent("cc.UITransform").setContentSize(t.width,2),e.setPosition(0,-t.height/2+1,0))},n.SetText=function(t){this.labelPosition.string=t},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./rotate-controller.ts","./global.ts","./Rubik.ts","./cube-manager.ts","./Cube.ts","./game-controller.ts","./ui-canvas.ts","./input-controller.ts","./touch-area.ts","./camera-controller.ts","./cube-input.ts","./debug-touchsize.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});