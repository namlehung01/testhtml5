System.register("chunks:///_virtual/particle.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-manager.ts"],(function(i){"use strict";var t,e,o,n,s,r,h,a;return{setters:[function(i){t=i.inheritsLoose,e=i.defineProperty,o=i.assertThisInitialized},function(i){n=i.cclegacy,s=i._decorator,r=i.Vec3,h=i.Component},function(i){a=i.default}],execute:function(){var c;i("PARTICLE_MOVE_TYPE",void 0),n._RF.push({},"07246oXfktPBLBZV+aNPUEP","particle",void 0);var p,v=s.ccclass;s.property;!function(i){i[i.NONE=0]="NONE",i[i.MOVE_LEFT=1]="MOVE_LEFT",i[i.MOVE_RIGHT=2]="MOVE_RIGHT",i[i.MOVE_DOWN=3]="MOVE_DOWN"}(p||(p=i("PARTICLE_MOVE_TYPE",{})));i("default",v("Particle")(c=function(i){function n(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,e(o(t),"partInfo",null),e(o(t),"targetMoveX",0),e(o(t),"minMoveX",30),e(o(t),"maxMoveX",40),e(o(t),"currentMoveType",p.NONE),e(o(t),"isFinishMoving",!1),e(o(t),"enableFastMoveDown",!1),e(o(t),"spriteHalfSize",new cc.Size(0,0)),e(o(t),"isPartMoveOverPosY",!1),t}t(n,i);var s=n.prototype;return s.start=function(){},s.update=function(i){if(0==this.isFinishMoving){var t=new r(0,-1*this.partInfo.fallSpeed,0);this.enableFastMoveDown&&(t.y=-1*this.partInfo.moveSpeed),this.currentMoveType==p.MOVE_LEFT?(t.x=-1*this.partInfo.moveSpeed,t.x+this.node.position.x<=this.targetMoveX&&(t.x=this.targetMoveX-this.node.position.x,this.currentMoveType=p.NONE),t.x+this.node.position.x<-a.instance.GameScreenSize.width/2+this.spriteHalfSize.width&&(t.x=-a.instance.GameScreenSize.width/2-this.node.position.x+this.spriteHalfSize.width,this.currentMoveType=p.NONE)):this.currentMoveType==p.MOVE_RIGHT&&(t.x=1*this.partInfo.moveSpeed,t.x+this.node.position.x>=this.targetMoveX&&(t.x=this.targetMoveX-this.node.position.x,this.currentMoveType=p.NONE),t.x+this.node.position.x>a.instance.GameScreenSize.width/2-this.spriteHalfSize.width&&(t.x=a.instance.GameScreenSize.width/2-this.node.position.x-this.spriteHalfSize.width,this.currentMoveType=p.NONE)),t.add(this.node.position),this.node.setPosition(t),this.CheckFinishMove()}},s.CheckFinishMove=function(){var i=new r(this.node.position.x,this.node.position.y,this.node.position.z),t=a.instance.GetLimitedLinePosy(),e=a.instance.GetDeltaPartPosX();if(i.y<=this.partInfo.endPoint.y&&0==this.isPartMoveOverPosY){if(this.isPartMoveOverPosY=!0,a.instance.IsFirstPart())return i.y=this.partInfo.endPoint.y,this.isFinishMoving=!0,a.instance.CheckMatchedParticle(this.partInfo.spriteName),void this.node.setPosition(i);var o=i.x-this.partInfo.endPoint.x;if(console.log("check finish move : "+o),o==e)return i.y=this.partInfo.endPoint.y,this.isFinishMoving=!0,a.instance.CheckMatchedParticle(this.partInfo.spriteName),void this.node.setPosition(i)}i.y<=t&&(this.isFinishMoving=!0,a.instance.CheckMatchedParticle(""))},s.MoveParticle=function(i){if(i==p.MOVE_DOWN)return this.enableFastMoveDown=!0,void console.log("move down");if(this.currentMoveType==p.NONE){var t=a.instance.GetDeltaPartPosX(),e=this.partInfo.endPoint.x+t,o=Math.abs(e-this.node.position.x);i==p.MOVE_LEFT?((this.node.position.x<=e||o>this.maxMoveX)&&(o=this.minMoveX),console.log("move left: "+o+" ep "+e+" posx: "+this.node.position.x+" dx "+t),this.targetMoveX=this.node.position.x-o):i==p.MOVE_RIGHT&&((this.node.position.x>=e||o>this.maxMoveX)&&(o=this.minMoveX),console.log("move right: "+o+" ep "+e+" posx: "+this.node.position.x+" dx "+t),this.targetMoveX=this.node.position.x+o),this.currentMoveType=i}},s.DeleteShape=function(){this.destroy()},s.InitParticle=function(i,t,e,o){this.isPartMoveOverPosY=!1,this.partInfo=i,this.isFinishMoving=!1,this.currentMoveType=p.NONE,this.enableFastMoveDown=!1,this.minMoveX=t,this.maxMoveX=e,this.spriteHalfSize.width=o.width/2,this.spriteHalfSize.height=o.height/2},s.IsFinishMove=function(){return this.isFinishMoving},s.IsPartMoving=function(){return this.currentMoveType!=p.NONE},n}(h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/dl-exportleveljs.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-level.ts","./dl-particle-edit.ts"],(function(e){"use strict";var i,t,n,o,l,s,a,r,u,c,p,f;return{setters:[function(e){i=e.defineProperty,t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,r=e._decorator,u=e.Node,c=e.Component},function(e){p=e.default},function(e){f=e.default}],execute:function(){var d,v,m,h,y,g,x,L,N,D,b,E,U,P,M,C,S;a._RF.push({},"129842hOQtCiLP6q8YCc2vp","dl-exportleveljs",void 0);var _=r.ccclass,I=r.property;e("default",(d=_("DlExportleveljs"),v=I(u),m=I(u),h=I(u),y=I(u),g=I(u),x=I(u),d((S=C=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,o(l(t),"inputtime",D,l(t)),o(l(t),"inputminmovex",b,l(t)),o(l(t),"inputmaxmovex",E,l(t)),o(l(t),"inputlinelimited",U,l(t)),o(l(t),"lineNode",P,l(t)),o(l(t),"gameNode",M,l(t)),i(l(t),"levelinfo",void 0),i(l(t),"editBox",void 0),i(l(t),"isNeedUpdateDisplay",!1),t}n(t,e);var a=t.prototype;return a.onLoad=function(){t._instance=this.node.getComponent("DlExportleveljs"),this.levelinfo=p.instance.GetLevelInfos(0)},a.start=function(){this.editBox=this.node.getComponentInChildren("cc.EditBox"),this.isNeedUpdateDisplay=!0,f.instance.ShowParticleInfo(this.levelinfo.partInfo),this.inputtime.getComponent("cc.EditBox").string=""+this.levelinfo.timeLimited,this.inputmaxmovex.getComponent("cc.EditBox").string=""+this.levelinfo.maxMoveX,this.inputminmovex.getComponent("cc.EditBox").string=""+this.levelinfo.minMoveX,this.inputlinelimited.getComponent("cc.EditBox").string=""+this.levelinfo.limitedLinePosY},a.update=function(e){this.isNeedUpdateDisplay&&this.DisplayLevelInfo()},a.GetDefaultTime=function(){return this.levelinfo.timeLimited},a.GetDefaultMinMove=function(){return this.levelinfo.minMoveX},a.GetDefaultMaxMove=function(){return this.levelinfo.maxMoveX},a.GetDefaultLineLimited=function(){return this.levelinfo.limitedLinePosY},a.SetLevelName=function(e){this.levelinfo.levelName=e,this.levelinfo.partInfo=[],this.isNeedUpdateDisplay=!0},a.UpdateTime=function(e){this.levelinfo.timeLimited=e,this.isNeedUpdateDisplay=!0},a.UpdateMinMove=function(e){this.levelinfo.minMoveX=e,this.isNeedUpdateDisplay=!0},a.UpdateMaxMove=function(e){this.levelinfo.maxMoveX=e,this.isNeedUpdateDisplay=!0},a.UpdateLineLimited=function(e){this.levelinfo.limitedLinePosY=e,this.lineNode.setPosition(0,this.levelinfo.limitedLinePosY),this.isNeedUpdateDisplay=!0},a.UpdatePartInfo=function(e){this.levelinfo.partInfo=e,this.isNeedUpdateDisplay=!0},a.PlayLevel=function(){cc.sys.localStorage.setItem("SHAPETHECURVES_GOTO_TEST_LEVEL","1"),cc.director.loadScene("shapethecurves")},a.SaveLevel=function(){cc.sys.localStorage.setItem("SHAPETHECURVES_CURRENT_LEVEL",JSON.stringify(this.levelinfo))},a.DisplayLevelInfo=function(){this.lineNode.setPosition(0,this.levelinfo.limitedLinePosY);var e=JSON.stringify(this.levelinfo);this.editBox.string=e},s(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(c),i(C,"_instance",null),D=t((N=S).prototype,"inputtime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(N.prototype,"inputminmovex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"inputmaxmovex",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(N.prototype,"inputlinelimited",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"lineNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"gameNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=N))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/toggle-game-controll.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-setting.ts","./shape-manager.ts"],(function(t){"use strict";var e,n,o,r,a,i,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},function(t){a=t.default,i=t.GAME_CONTROLL_TYPE},function(t){l=t.default}],execute:function(){var c;n._RF.push({},"33a10XdpH9LOrr/pXOCAK9M","toggle-game-controll",void 0);var s=o.ccclass;o.property,t("ToggleGameControll",s("ToggleGameControll")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.UpdateToggle()},o.OnButtonToggleClick=function(t,e){l.instance.OnSettingToggleTouch(e),this.UpdateToggle()},o.UpdateToggle=function(){for(var t=a.instance.GetGameControllType()==i.DRAG?"drag":"tap",e=0;e<this.node.children.length;e++){var n=this.node.children[e].getChildByName("Checkmark");n&&(this.node.children[e].name==t?n.active=!0:n.active=!1)}},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/dl-particle-edit.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resource-manager.ts","./shape-level.ts","./dl-exportleveljs.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,l,d,c,p,h,u,f,P,v;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,l=t._decorator,d=t.Node,c=t.Vec3,p=t.Component},function(t){h=t.default},function(t){u=t.PartInfo,f=t.PartPoint,P=t.default},function(t){v=t.default}],execute:function(){var m,g,y,N,S,I,C,b,x,w,U,D,z,J,_,B,E,G,M,F,L,O,T,k,V;a._RF.push({},"47fd5plblZAfa2WmLI9ll4M","dl-particle-edit",void 0);var A=l.ccclass,H=l.property;t("default",(m=A("DlParticleEdit"),g=H({type:cc.Prefab}),y=H(d),N=H({type:cc.Prefab}),S=H(d),I=H(d),C=H(d),b=H(d),x=H(d),w=H(d),U=H(d),m((V=k=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(r(i),"prefabbuttonlevel",J,r(i)),o(r(i),"inputNode",_,r(i)),o(r(i),"prefabParticleNode",B,r(i)),o(r(i),"inputScaleNode",E,r(i)),o(r(i),"inputfallSpeedNode",G,r(i)),o(r(i),"inputmoveSpeedNode",M,r(i)),o(r(i),"inputPosxNode",F,r(i)),o(r(i),"inputPosyNode",L,r(i)),o(r(i),"nodeJoint",O,r(i)),o(r(i),"spritesNode",T,r(i)),e(r(i),"inputController",void 0),e(r(i),"listPart",[]),e(r(i),"selectedPartName",""),e(r(i),"currentPartInfo",[]),e(r(i),"isNeedUpdateDisPlaySprite",!1),e(r(i),"isOnlyUpdateSpritePos",!0),i}n(i,t);var a=i.prototype;return a.onLoad=function(){i._instance=this.node.getComponent("DlParticleEdit")},a.start=function(){this.inputNode&&""==this.selectedPartName&&(this.inputNode.active=!1),this.inputController=this.spritesNode.parent.getComponent("InputController"),this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!1},a.update=function(t){this.UpdateDisplaySprite(),this.UpdateSpritePos()},a.AddParticle=function(t){var e=cc.instantiate(this.prefabbuttonlevel);e.getComponent("ButtonLevel").InitButton(t,"DlParticleEdit"),e.name=t,this.node.addChild(e);var i=new u;i.startPoint=new f,i.startPoint.x=0,i.startPoint.y=300,i.endPoint=new f,i.endPoint.x=0,i.endPoint.y=0,i.spriteName=t,i.scale=1.5,i.fallSpeed=2,i.moveSpeed=10,this.currentPartInfo.push(i),v.instance.UpdatePartInfo(this.currentPartInfo);var n=cc.instantiate(this.prefabParticleNode),o=n.getComponentInChildren("cc.Sprite");o._spriteFrame=h.instance.GetSprites(i.spriteName);var r=new cc.Size(o._spriteFrame._rect.width,o._spriteFrame._rect.height);n.children[0].setContentSize(r),n.name=i.spriteName,this.spritesNode.addChild(n),n.setScale(i.scale,i.scale,i.scale),n.setPosition(i.endPoint.x,i.endPoint.y,0)},a.UpdateDisplaySprite=function(){if(this.isNeedUpdateDisPlaySprite&&h.instance.IsLoadedSpriteFolder(v.instance.levelinfo.levelName))if(this.isNeedUpdateDisPlaySprite=!1,this.isOnlyUpdateSpritePos)for(var t=0;t<this.spritesNode.children.length;t++){var e=this.currentPartInfo[t];this.spritesNode.children[t].setPosition(e.endPoint.x,e.endPoint.y,0)}else{this.spritesNode.removeAllChildren();for(var i=0;i<this.currentPartInfo.length;i++){var n=this.currentPartInfo[i],o=cc.instantiate(this.prefabParticleNode),r=o.getComponentInChildren("cc.Sprite");r._spriteFrame=h.instance.GetSprites(n.spriteName);var s=new cc.Size(r._spriteFrame._rect.width,r._spriteFrame._rect.height);o.children[0].setContentSize(s),o.name=n.spriteName,o.setScale(n.scale,n.scale,n.scale),this.spritesNode.addChild(o),o.setPosition(n.endPoint.x,n.endPoint.y,0)}}},a.UpdateSpritePos=function(){var t,e;if(this.inputController){if(""!=this.selectedPartName){var i=this.inputController.GetPosTouchStart(),n=this.nodeJoint.getComponent("DlJoints"),o=!1,r=n.GetHintNode();if(r){var s=r.children[0].getContentSize();if(s.width*=r.children[0].getScale().x,s.height*=r.children[0].getScale().y,i.x>=r.position.x-s.width/2&&i.x<=s.width/2+r.position.x&&i.y>=r.position.y-s.height/2&&i.y<=s.height/2+r.position.y&&this.inputController.IsTouchMove()){var a=this.inputController.GetMoveVector(),l=r.getPosition().add(new c(a.x,a.y,0));console.log("touch select sprite new pos: "+l),this.inputController.SetTouchStartToMove(),r.setPosition(l),n.UpdateCurrentJointPos(l),o=!0}}for(var d=null,p=0;p<this.spritesNode.children.length;p++)this.spritesNode.children[p].name==this.selectedPartName&&(d=this.spritesNode.children[p]);if(d&&0==o){var h,u,f,P,v,m,g,y=null===(h=d)||void 0===h?void 0:h.children[0].getContentSize();if(y.width*=null===(u=d)||void 0===u?void 0:u.getScale().x,y.height*=null===(f=d)||void 0===f?void 0:f.getScale().y,i.x>=(null===(P=d)||void 0===P?void 0:P.position.x)-y.width/2&&i.x<=y.width/2+(null===(v=d)||void 0===v?void 0:v.position.x)&&i.y>=(null===(m=d)||void 0===m?void 0:m.position.y)-y.height/2&&i.y<=y.height/2+(null===(g=d)||void 0===g?void 0:g.position.y)&&this.inputController.IsTouchMove()){var N,S,I=this.inputController.GetMoveVector(),C=null===(N=d)||void 0===N?void 0:N.getPosition().add(new c(I.x,I.y,0));console.log("touch select sprite new pos: "+C),this.inputController.SetTouchStartToMove(),null===(S=d)||void 0===S||S.setPosition(C);var b=this.GetCurrentPartinfo();b&&(b.endPoint.x=C.x,b.endPoint.y=C.y,this.UpdateCurrentPartinfo(b),this.inputPosxNode.getComponent("cc.EditBox").string=""+b.endPoint.x,this.inputPosyNode.getComponent("cc.EditBox").string=""+b.endPoint.y)}}}}else this.inputController=null===(t=this.spritesNode.parent)||void 0===t||null===(e=t.getChildByName("bg"))||void 0===e?void 0:e.getComponentInChildren("InputController")},a.ShowParticleInfo=function(t){for(var e=0;e<t.length;e++){var i=t[e].spriteName,n=cc.instantiate(this.prefabbuttonlevel);n.getComponent("ButtonLevel").InitButton(i,"DlParticleEdit"),n.name=i,this.node.addChild(n)}this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!1,this.currentPartInfo=t},a.GetCurrentPartinfo=function(){for(var t=null,e=0;e<this.currentPartInfo.length&&(t=this.currentPartInfo[e]).spriteName!=this.selectedPartName;e++);return t},a.UpdateCurrentPartinfo=function(t){for(var e=0;e<this.currentPartInfo.length;e++)t.spriteName==this.currentPartInfo[e].spriteName&&(this.currentPartInfo[e].scale=t.scale,this.currentPartInfo[e].endPoint.x=t.endPoint.x,this.currentPartInfo[e].endPoint.y=t.endPoint.y,this.currentPartInfo[e].fallSpeed=t.fallSpeed,this.currentPartInfo[e].moveSpeed=t.moveSpeed);this.nodeJoint.getComponent("DlJoints").UpdateJointInfo(t.partJoints),this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!0,v.instance.UpdatePartInfo(this.currentPartInfo)},a.UpdateJointInfo=function(t){for(var e=0;e<this.currentPartInfo.length;e++)this.selectedPartName==this.currentPartInfo[e].spriteName&&(this.currentPartInfo[e].partJoints=t);v.instance.UpdatePartInfo(this.currentPartInfo)},a.UpdateSelect=function(t){this.selectedPartName=t,console.log("DlParticleEdit update button: "+t);for(var e=1;e<this.node.children.length;e++){var i=this.node.children[e];i.name!=t&&i.getComponent("ButtonLevel").SetSelectedButton(!1)}this.inputNode.active=!0,this.UpdateDisplayCurrentPartinfo(),this.nodeJoint.getComponent("DlJoints").ShowJointInfo()},a.UpdateDisplayCurrentPartinfo=function(){var t=this.GetCurrentPartinfo();this.inputPosxNode.getComponent("cc.EditBox").string=""+t.endPoint.x,this.inputPosyNode.getComponent("cc.EditBox").string=""+t.endPoint.y,this.inputScaleNode.getComponent("cc.EditBox").string=""+t.scale,this.inputfallSpeedNode.getComponent("cc.EditBox").string=""+t.fallSpeed,this.inputmoveSpeedNode.getComponent("cc.EditBox").string=""+t.moveSpeed},a.MoveCurrentUp=function(){for(var t=1;t<this.node.children.length;t++){var e=this.node.children[t];if(e.name==this.selectedPartName&&t>1){var i=new c(e.position.x,e.position.y,e.position.z);e.setPosition(new c(this.node.children[t-1].position.x,this.node.children[t-1].position.y,this.node.children[t-1].position.z)),this.node.children[t-1].position=i;var n=this.node.children[t-1];this.node.children[t-1]=this.node.children[t],this.node.children[t]=n;break}}for(t=0;t<this.currentPartInfo.length;t++)if(this.currentPartInfo[t].spriteName==this.selectedPartName&&t>0){this.SwapPartInfo(t);break}this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!1},a.MoveCurrentDown=function(){for(var t=1;t<this.node.children.length;t++){var e=this.node.children[t];if(e.name==this.selectedPartName&&t+1<this.node.children.length){var i=new c(e.position.x,e.position.y,e.position.z);e.setPosition(new c(this.node.children[t+1].position.x,this.node.children[t+1].position.y,this.node.children[t+1].position.z)),this.node.children[t+1].setPosition(i);var n=this.node.children[t+1];this.node.children[t+1]=this.node.children[t],this.node.children[t]=n;break}}for(t=0;t<this.currentPartInfo.length;t++)if(this.currentPartInfo[t].spriteName==this.selectedPartName&&t+1<this.currentPartInfo.length){this.SwapPartInfo(t+1);break}this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!1},a.SwapPartInfo=function(t){var e=P.instance.ClonePartInfo(this.currentPartInfo[t]);P.instance.CopyPartInfoValue(this.currentPartInfo[t-1],this.currentPartInfo[t]),P.instance.CopyPartInfoValue(e,this.currentPartInfo[t-1])},a.RemoveCurrent=function(){for(var t=1,e=this.selectedPartName;t<this.node.children.length;t++){var i=this.node.children[t];if(i.name==this.selectedPartName){this.selectedPartName="",this.nodeJoint.getComponent("DlJoints").HideInputJoint(),this.inputNode.active=!1,i.destroy();break}}for(t=0;t<this.currentPartInfo.length&&this.currentPartInfo[t].spriteName!=e;t++);for(;t<this.currentPartInfo.length-1;t++)P.instance.CopyPartInfoValue(this.currentPartInfo[t+1],this.currentPartInfo[t]);this.currentPartInfo.pop(),this.isNeedUpdateDisPlaySprite=!0,this.isOnlyUpdateSpritePos=!1},a.GetCurrentJointIndex=function(){return this.nodeJoint.getComponent("DlJoints").GetcurrentJointindex()},s(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(p),e(k,"_instance",null),J=i((z=V).prototype,"prefabbuttonlevel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"inputNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(z.prototype,"prefabParticleNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(z.prototype,"inputScaleNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(z.prototype,"inputfallSpeedNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(z.prototype,"inputmoveSpeedNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(z.prototype,"inputPosxNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(z.prototype,"inputPosyNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(z.prototype,"nodeJoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(z.prototype,"spritesNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=z))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/game-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,i,r,S,T;return{setters:[function(t){e=t.defineProperty,n=t.inheritsLoose,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,S=t._decorator,T=t.Component}],execute:function(){var o,s,c;t("GAME_STATE",void 0),r._RF.push({},"52d6f49x69OqYb0hHaqk4Om","game-manager",void 0);var u,E=S.ccclass;S.property;!function(t){t[t.STATE_LOADING=0]="STATE_LOADING",t[t.STATE_ACTION_PHASE=1]="STATE_ACTION_PHASE",t[t.STATE_SELECT_LEVEL=2]="STATE_SELECT_LEVEL",t[t.STATE_GAME_RESULT=3]="STATE_GAME_RESULT",t[t.STATE_IGM=4]="STATE_IGM",t[t.STATE_MM=5]="STATE_MM"}(u||(u=t("GAME_STATE",{})));t("default",E("GameManager")((c=s=function(t){function r(){for(var n,i=arguments.length,r=new Array(i),S=0;S<i;S++)r[S]=arguments[S];return n=t.call.apply(t,[this].concat(r))||this,e(a(n),"currentState",u.STATE_LOADING),e(a(n),"preState",u.STATE_LOADING),e(a(n),"timeInGame",0),e(a(n),"timeTotal",0),e(a(n),"nodeGameState",[]),n}n(r,t);var S=r.prototype;return S.onLoad=function(){r._instance=this.node.getComponent("GameManager"),this.nodeGameState=new Array(6),this.nodeGameState[u.STATE_LOADING]=this.node.getChildByName("loading"),this.nodeGameState[u.STATE_ACTION_PHASE]=this.node.getChildByName("ap"),this.nodeGameState[u.STATE_GAME_RESULT]=this.node.getChildByName("game-result"),this.nodeGameState[u.STATE_IGM]=this.node.getChildByName("igm"),this.nodeGameState[u.STATE_MM]=this.node.getChildByName("mm"),this.nodeGameState[u.STATE_SELECT_LEVEL]=this.node.getChildByName("select-level")},S.start=function(){this.ResetState(),this.timeInGame=0},S.update=function(t){this.currentState==u.STATE_ACTION_PHASE&&(this.timeInGame+=t),this.timeTotal+=t},S.ResetState=function(){this.preState=u.STATE_LOADING,this.currentState=u.STATE_LOADING,this.nodeGameState.forEach((function(t){t&&(t.active=!1)})),this.nodeGameState[this.currentState].active=!0},S.SwitchState=function(t){this.preState=this.currentState,this.currentState=t,this.nodeGameState.forEach((function(t){t&&(t.active=!1)})),this.nodeGameState[this.currentState].active=!0},S.GetCurrentState=function(){return this.currentState},S.GetPreState=function(){return this.preState},S.GetTimeInAP=function(){return this.timeInGame},S.GetCurrentTime=function(){return this.timeTotal},S.GetAPNode=function(){return this.nodeGameState[u.STATE_ACTION_PHASE]},S.GetResultNode=function(){return this.nodeGameState[u.STATE_GAME_RESULT]},S.GetIGMNode=function(){return this.nodeGameState[u.STATE_IGM]},S.ResetTimeInGame=function(){this.timeInGame=0},S.PauseGame=function(){this.SwitchState(u.STATE_IGM)},S.ResumeGame=function(){this.SwitchState(u.STATE_ACTION_PHASE)},i(r,null,[{key:"instance",get:function(){return r._instance}}]),r}(T),e(s,"_instance",null),o=c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/dl-particle-node.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./dl-particle-edit.ts"],(function(e){"use strict";var t,i,n,r,c,o,s;return{setters:[function(e){t=e.inheritsLoose,i=e.defineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,o=e.Component},function(e){s=e.default}],execute:function(){var d;r._RF.push({},"5525aDjmTRMyqnl5gHXuMze","dl-particle-node",void 0);var l=c.ccclass;c.property,e("DlParticleNode",l("DlParticleNode")(d=function(e){function r(){for(var t,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,i(n(t),"rectNode",null),i(n(t),"isSelected",!1),t}t(r,e);var c=r.prototype;return c.start=function(){},c.UpdateSelected=function(e){if(this.isSelected=e,null==this.rectNode){this.rectNode=this.node.children[0].children[0];var t=this.node.children[0].getComponent("cc.Sprite")._spriteFrame._rect.width,i=this.node.children[0].getComponent("cc.Sprite")._spriteFrame._rect.height;this.rectNode.children[0].setContentSize(1,i),this.rectNode.children[0].setPosition(-t/2,0,0),this.rectNode.children[1].setContentSize(1,i),this.rectNode.children[1].setPosition(t/2,0,0),this.rectNode.children[2].setContentSize(t,1),this.rectNode.children[2].setPosition(0,-i/2,0),this.rectNode.children[3].setContentSize(t,1),this.rectNode.children[3].setPosition(0,i/2,0)}this.rectNode.active=this.isSelected},c.update=function(e){s.instance.selectedPartName==this.node.name?this.UpdateSelected(!0):this.UpdateSelected(!1)},r}(o))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/select-level.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-level.ts","./shape-manager.ts"],(function(e){"use strict";var t,n,l,r,o,a,i,c,s,u,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,i=e._decorator,c=e.EventHandler,s=e.Component},function(e){u=e.default},function(e){v=e.default}],execute:function(){var f,p,d,h,L;a._RF.push({},"56010SHW9BHG7oI5pKHTEG0","select-level",void 0);var b=i.ccclass,g=i.property;e("SelectLevel",(f=b("SelectLevel"),p=g(cc.Prefab),f((L=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,l(r(t),"PrefabButtonLevel",L,r(t)),o(r(t),"levelUnlocked",10),t}n(t,e);var a=t.prototype;return a.start=function(){this.GenerateButtonLevel()},a.GenerateButtonLevel=function(){var e=u.instance.LEVELDATA.length;if(null!=this.PrefabButtonLevel){var t=80,n=-260;e<4&&(n=-e/2*130);for(var l=(Math.floor(e/4)+(e%4>0?1:0))/2*100,r=0;r<e;r++){var o=cc.instantiate(this.PrefabButtonLevel);o.name=u.instance.LEVELDATA[r].levelName;var a=n+r%4*130+65,i=l-100*Math.floor(r/4)-50;this.node.addChild(o),o.setContentSize(t,50),o.setPosition(a,i);var s=o.getChildByName("text");s.setContentSize(t,50),s.getComponent("cc.Label").string=o.name;var v=o.getComponent("cc.Button"),f=new c;f.target=this.node,f.component="SelectLevel",f.handler="btn_SelectedLevel",f.customEventData=""+r,v.clickEvents.push(f),r>this.levelUnlocked&&(v.interactable=!1)}}},a.btn_SelectedLevel=function(e,t){console.log("SelectedLevel: "+t),v.instance.LoadLevel(Number.parseInt(t))},t}(s)).prototype,"PrefabButtonLevel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/shape-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game-manager.ts","./resource-manager.ts","./shape-level.ts","./shape-debug-info.ts","./shape-setting.ts","./particle.ts"],(function(e){"use strict";var t,i,n,r,a,s,o,c,l,h,u,d,p,f,g,P,v,S,m,I,L,y;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.assertThisInitialized,a=e.initializerDefineProperty,s=e.createClass},function(e){o=e.cclegacy,c=e._decorator,l=e.Vec3,h=e.Vec2,u=e.Size,d=e.Node,p=e.Component},function(e){f=e.default,g=e.GAME_STATE},function(e){P=e.default},function(e){v=e.PartJoint,S=e.default},function(e){m=e.default},function(e){I=e.default,L=e.GAME_CONTROLL_TYPE},function(e){y=e.PARTICLE_MOVE_TYPE}],execute:function(){var T,N,C,E,G,b,x,A,_;o._RF.push({},"5fb2b0YCupP/ZaU/LPOf1MN","shape-manager",void 0);var M=c.ccclass,D=c.property,J=e("ShapeJointInfo",function(){function e(){t(this,"arrayJoint",[]),t(this,"arrayStatus",[]),t(this,"currentIndex",0)}var i=e.prototype;return i.Init=function(e){for(var t=0,i=0,n=0;i<e.partInfo.length;i++)t+=e.partInfo[i].partJoints.length;for(this.arrayJoint=new Array(t),this.arrayStatus=new Array(t),i=0;i<e.partInfo.length;i++)for(var r=e.partInfo[i].partJoints,a=0;a<r.length;a++)this.arrayStatus[n]=0,this.arrayJoint[n]=new v,this.arrayJoint[n].id=r[a].id,this.arrayJoint[n].x=r[a].x,this.arrayJoint[n].y=r[a].y,n++;this.currentIndex=-1},i.UpdateStatus=function(e){for(var t=0;t<this.arrayStatus.length;t++)for(var i=0;i<e.length;i++)this.arrayJoint[t].id==e[i].id&&(this.arrayStatus[t]=1)},i.ResetStatus=function(){for(var e=0;e<this.arrayStatus.length;e++)this.arrayStatus[e]=0},i.GetCurrentJointPos=function(){return new l(this.arrayJoint[this.currentIndex].x,this.arrayJoint[this.currentIndex].y,0)},i.CheckMatchedTarget=function(e){for(var t=this.arrayJoint[this.currentIndex].id.indexOf(";"),i=0;i<this.arrayStatus.length;i++){if(1==this.arrayStatus[i])if(this.arrayJoint[i].id.substring(t+1)==e)return this.arrayStatus[i]=2,!0}return!1},i.GetReadyJoint=function(){for(var e=0,t=0;t<this.arrayStatus.length;t++)1==this.arrayStatus[t]&&e++;var i=new Array(e);for(e=0,t=0;t<this.arrayStatus.length;t++)1==this.arrayStatus[t]&&(i[e++]=new h(this.arrayJoint[t].x,this.arrayJoint[t].y));return i},i.GoNextJoint=function(){for(var e=this.currentIndex+1;e<this.arrayStatus.length;e++)if(1==this.arrayStatus[e])return this.currentIndex=e,!0;for(e=0;e<this.currentIndex;e++)if(1==this.arrayStatus[e])return this.currentIndex=e,!0;return!1},e}());e("default",(T=M("ShapeManager"),N=D(cc.Node),C=D(cc.Prefab),T((_=A=function(e){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,t(r(i),"currentLevelindex",0),t(r(i),"currentLevelInfo",null),t(r(i),"isLevelLoading",!1),a(r(i),"timePlayNode",b,r(i)),a(r(i),"prefabParticle",x,r(i)),t(r(i),"timeLevelRemaining",0),t(r(i),"timeLevelLabel",null),t(r(i),"inputController",null),t(r(i),"minDragToMove",new h(120,120)),t(r(i),"shapeNode",null),t(r(i),"currentParticleNode",null),t(r(i),"shapeHintNode",null),t(r(i),"currentJoint",null),t(r(i),"currentIndexShape",0),t(r(i),"deltaPartPosX",0),t(r(i),"deltaPartPosY",0),t(r(i),"numberMatchedPart",0),t(r(i),"isWrongPart",!1),t(r(i),"textResult","FAILED"),t(r(i),"isWaitingParticleDeleted",!1),t(r(i),"GameScreenSize",new u(480,854)),t(r(i),"moveParticleStack",[]),i}n(i,e);var o=i.prototype;return o.onLoad=function(){i._instance=this.node.getComponent("ShapeManager")},o.start=function(){this.timePlayNode&&(this.timeLevelLabel=this.timePlayNode.getComponent("cc.Label")),this.inputController=this.node.parent.getComponent("InputController"),this.inputController.SetTouchSize(new u(480,700)),this.inputController.SetDeltaTimeTouch([.5,.7,.9,1,1.2,1.4]),this.currentLevelindex>=S.instance.LEVELDATA.length&&(this.currentLevelindex=0),this.shapeNode=f.instance.GetAPNode().getChildByName("shape"),null==this.shapeNode&&(this.shapeNode=new d("shape"),f.instance.GetAPNode().addChild(this.shapeNode));var e=cc.sys.localStorage.getItem("SHAPETHECURVES_GOTO_TEST_LEVEL");e&&"1"==e?(this.LoadLevel(this.currentLevelindex),cc.sys.localStorage.setItem("SHAPETHECURVES_GOTO_TEST_LEVEL","0")):f.instance.SwitchState(g.STATE_SELECT_LEVEL)},o.update=function(e){switch(f.instance.GetCurrentState()){case g.STATE_LOADING:if(this.isLevelLoading&&P.instance.IsLoadedSpriteFolder(this.currentLevelInfo.levelName)&&P.instance.IsLoadedPrefabFolder("Effects")){this.isLevelLoading=!1,f.instance.SwitchState(g.STATE_ACTION_PHASE);var t=f.instance.GetAPNode().getChildByName("background-level").getChildByName("bg").getComponent("cc.Sprite");t&&(t._spriteFrame=P.instance.GetSprites("bg")),this.shapeHintNode=cc.instantiate(P.instance.GetPrefabs("particle-hint")),this.shapeNode.addChild(this.shapeHintNode),this.shapeHintNode.setPosition(-9999,-9999,0),this.UpdateDebugDisplay()}break;case g.STATE_ACTION_PHASE:this.timeLevelLabel&&(this.timeLevelLabel.string=""+Math.round(this.timeLevelRemaining)),this.timeLevelRemaining=this.currentLevelInfo.timeLimited-f.instance.GetTimeInAP(),this.UpdateTouch(),this.UpdateGenerateShap(),this.UpdateMoveParticle();break;case g.STATE_GAME_RESULT:var i,n=null===(i=f.instance.GetResultNode().getChildByName("txt-result"))||void 0===i?void 0:i.getComponent("cc.RichText");if(n){var r=f.instance.GetCurrentTime();r-Math.round(r)>.25?n.string="<color=#00ff00>"+this.textResult+"</color>":n.string="<color=#ff0000>"+this.textResult+"</color>"}}},o.LoadLevel=function(e){f.instance.SwitchState(g.STATE_LOADING),P.instance.LoadPrefabsFolder("Prefabs/ShapeTheCurves/Effects",!1),this.shapeNode.removeAllChildren(),this.isLevelLoading=!0,this.currentParticleNode=null,this.currentIndexShape=0,this.textResult="FAILED",this.currentLevelInfo=S.instance.GetLevelInfos(this.currentLevelindex),P.instance.LoadSpritFolder("Textures/ShapeTheCurves/levels/"+this.currentLevelInfo.levelName,!0),this.timeLevelRemaining=this.currentLevelInfo.timeLimited,null==this.currentJoint&&(this.currentJoint=new J),this.currentJoint.Init(this.currentLevelInfo),this.numberMatchedPart=0},o.UpdateTouch=function(){var e=y.NONE;if(I.instance.GetGameControllType()==L.DRAG){var t=this.inputController.GetMoveVector();(Math.abs(t.x)>this.minDragToMove.x||Math.abs(t.y)>this.minDragToMove.y)&&(Math.abs(t.x)>Math.abs(t.y)?e=t.x>0?y.MOVE_RIGHT:y.MOVE_LEFT:t.y<0&&(e=y.MOVE_DOWN),this.inputController.SetTouchStartToMove())}else if(I.instance.GetGameControllType()==L.TAP&&this.inputController.IsTouchOnDeltaTime()){var i=this.inputController.GetPosTouchStart();e=i.y>-100?i.x>0?y.MOVE_RIGHT:y.MOVE_LEFT:y.MOVE_DOWN}this.MoveParticle(e)},o.MoveParticle=function(e){e!=y.NONE&&this.moveParticleStack.push(e)},o.UpdateMoveParticle=function(){if(this.currentParticleNode&&this.moveParticleStack.length>0){var e=this.currentParticleNode.getComponent("Particle");if(0==e.IsPartMoving()){console.log("move particle");var t=this.moveParticleStack.shift();e.MoveParticle(t)}}},o.UpdateGenerateShap=function(){var e;if((this.isWrongPart||this.currentIndexShape>this.currentLevelInfo.partInfo.length||f.instance.GetTimeInAP()>this.currentLevelInfo.timeLimited)&&!(this.isWrongPart&&m.instance.IsEnable()&&m.instance.IsIgnoreMatchedPart()&&this.currentIndexShape<=this.currentLevelInfo.partInfo.length&&f.instance.GetTimeInAP()<=this.currentLevelInfo.timeLimited))return f.instance.SwitchState(g.STATE_GAME_RESULT),(null===(e=f.instance.GetResultNode().getChildByName("background"))||void 0===e?void 0:e.getComponentInChildren("cc.Sprite"))._spriteFrame=P.instance.GetSprites("bg"),0==this.isWrongPart&&(this.textResult="Congratulation!"),void(this.moveParticleStack=[]);if(null==this.currentParticleNode&&0==this.isWaitingParticleDeleted){if(this.currentIndexShape>=this.currentLevelInfo.partInfo.length)return void this.currentIndexShape++;var t=this.currentLevelInfo.partInfo[this.currentIndexShape],i=cc.instantiate(this.prefabParticle),n=i.getComponent("Particle"),r=i.children[0],a=r.getComponent("cc.Sprite");a._spriteFrame=P.instance.GetSprites(t.spriteName);var s=new cc.Size(a._spriteFrame._rect.width,a._spriteFrame._rect.height);r.setContentSize(s),m.instance.IsEnable()&&m.instance.IsShowPartDebugLine()&&r.children.length>0&&(r.children[0].active=!0,r.children[0].children[0].setPosition(1-s.width/2,0,0),r.children[0].children[1].setPosition(s.width/2-1,0,0)),this.shapeNode.addChild(i),i.setScale(t.scale,t.scale,t.scale),i.setPosition(t.startPoint.x,t.startPoint.y,0),s.width=s.width*t.scale,s.height=s.height*t.scale,n.InitParticle(t,this.currentLevelInfo.minMoveX,this.currentLevelInfo.maxMoveX,s),this.UpdateShapeJoint(),this.currentIndexShape++,this.currentParticleNode=i,this.isWrongPart=!1,console.log("add shape "+this.currentIndexShape)}else{if(0==this.isWaitingParticleDeleted)if(this.currentParticleNode.getComponent("Particle").IsFinishMove()){if(this.IsFirstPart()&&(this.deltaPartPosX=this.currentParticleNode.position.x-this.currentLevelInfo.partInfo[0].endPoint.x,this.deltaPartPosY=this.currentParticleNode.position.y-this.currentLevelInfo.partInfo[0].endPoint.y),m.instance.IsEnable()&&m.instance.IsShowPartDebugLine()){var o=this.currentParticleNode.children[0];o.children.length>0&&(o.children[0].active=!1)}this.currentParticleNode=null,this.moveParticleStack=[]}}},o.UpdateShapeJoint=function(){if(this.currentIndexShape<1)this.shapeHintNode.setPosition(-9999,-9999,0);else{var e=this.currentLevelInfo.partInfo[this.currentIndexShape-1].partJoints;this.currentJoint.UpdateStatus(e),this.SwapShapeHint()}},o.SwapShapeHint=function(){if(this.currentJoint.GoNextJoint()){var e=this.currentJoint.GetCurrentJointPos();this.shapeHintNode.setPosition(e.x+this.deltaPartPosX,e.y+this.deltaPartPosY,0)}},o.FinishedWaitParticleDeleted=function(){i.instance.isWaitingParticleDeleted=!1},o.DeleteShape=function(){if(this.currentParticleNode){this.isWaitingParticleDeleted=!0;var e=P.instance.GetPrefabs("particle-explosion");if(e){var t,i=cc.instantiate(e);this.shapeNode.addChild(i),i.setPosition(this.currentParticleNode.position),null===(t=i.getComponentInChildren("DestroysEffect"))||void 0===t||t.AddCallBack(this.FinishedWaitParticleDeleted)}this.currentParticleNode.removeFromParent(),this.currentParticleNode.getComponent("Particle").DeleteShape(),this.currentParticleNode=null}},o.RestartLevel=function(){this.shapeNode.removeAllChildren(),this.currentParticleNode=null,this.isWrongPart=!1,this.currentIndexShape=0,this.textResult="FAILED",f.instance.ResetTimeInGame(),f.instance.SwitchState(g.STATE_ACTION_PHASE),this.shapeHintNode=cc.instantiate(P.instance.GetPrefabs("particle-hint")),this.shapeNode.addChild(this.shapeHintNode),this.shapeHintNode.setPosition(-9999,-9999,0),this.numberMatchedPart=0,this.currentJoint.ResetStatus()},o.CheckMatchedParticle=function(e){return this.IsFirstPart()||this.currentJoint.CheckMatchedTarget(e)?(console.log("this shape is matched"),this.numberMatchedPart++,!0):(this.isWrongPart=!0,!1)},o.UpdateDebugDisplay=function(){var e=f.instance.GetAPNode().getChildByName("background-level").getChildByName("linelimited");if(e&&(e.setPosition(0,this.currentLevelInfo.limitedLinePosY,0),1==m.instance.IsShowLinitedLine()&&m.instance.IsEnable()?e.active=!0:e.active=!1),m.instance.IsEnable()&&this.currentParticleNode){var t=this.currentParticleNode.children[0];t.children.length>0&&(t.children[0].active=m.instance.IsShowPartDebugLine())}},o.UpdateDebugInfo=function(e,t){var i,n=f.instance.GetIGMNode().getChildByName("debug");if("partline"==t)n&&m.instance.SetShowPartLine(null===(i=n.getChildByName("TogglepartLine"))||void 0===i?void 0:i.getComponent("cc.Toggle").isChecked);else if("linelimited"==t){var r;if(n)m.instance.SetShowLineLimited(null===(r=n.getChildByName("Toggleline"))||void 0===r?void 0:r.getComponent("cc.Toggle").isChecked)}else if("ignorematched"==t){var a;if(n)m.instance.SetIgnoreMatched(null===(a=n.getChildByName("Toggleingorematchedpart"))||void 0===a?void 0:a.getComponent("cc.Toggle").isChecked)}},o.OnSettingToggleTouch=function(e){"drag"==e?(console.log("setting drag to move"),I.instance.SetGameControllType(L.DRAG),I.instance.SaveSetting()):"tap"==e&&(console.log("setting tap to move"),I.instance.SetGameControllType(L.TAP),I.instance.SaveSetting())},o.IsFirstPart=function(){return 1==this.currentIndexShape},o.GetDeltaPartPosX=function(){return this.deltaPartPosX},o.GetDeltaPartPosY=function(){return this.deltaPartPosY},o.GetLimitedLinePosy=function(){return this.currentLevelInfo.limitedLinePosY},o.GetReadyJointPos=function(){return this.currentJoint.GetReadyJoint()},o.GoToSelectLevel=function(){f.instance.SwitchState(g.STATE_SELECT_LEVEL)},o.PauseGame=function(){var e=f.instance.GetIGMNode().getChildByName("debug");e&&(e.active=m.instance.IsEnable()),f.instance.PauseGame()},o.ResumeGame=function(){this.UpdateDebugDisplay(),f.instance.ResumeGame()},s(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(p),t(A,"_instance",null),b=i((G=_).prototype,"timePlayNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(G.prototype,"prefabParticle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=G))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/dl-select-level.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resource-manager.ts","./dl-exportleveljs.ts"],(function(e){"use strict";var t,n,i,l,r,o,a,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Component},function(e){u=e.default},function(e){p=e.default}],execute:function(){var d,f,v,h,S,b,L;o._RF.push({},"6a568bOA8hCuKAd7An5Ir57","dl-select-level",void 0);var y=a.ccclass,g=a.property;e("default",(d=y("DlSelectLevel"),f=g({type:cc.Prefab}),v=g(s),d((b=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(l(t),"prefabbuttonlevel",b,l(t)),i(l(t),"selectSpriteNode",L,l(t)),r(l(t),"isLoadSprite",!1),r(l(t),"levels",["bambi"]),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.levels.forEach((function(t){var n=cc.instantiate(e.prefabbuttonlevel);n.getComponent("ButtonLevel").InitButton(t,"DlSelectLevel"),n.name=t,e.node.addChild(n)}))},o.UpdateSelect=function(e){var t=this;console.log("DlSelectLevel update button: "+e),this.levels.forEach((function(n){var i;n!=e&&(null===(i=t.node.getChildByName(n))||void 0===i||i.getComponent("ButtonLevel").SetSelectedButton(!1))})),this.isLoadSprite=!0,u.instance.LoadSpritFolder("Textures/ShapeTheCurves/levels/"+e,!0),p.instance.SetLevelName(e)},o.update=function(e){this.isLoadSprite&&u.instance.isLoadFinished&&(this.isLoadSprite=!1,this.selectSpriteNode&&this.selectSpriteNode.getComponent("DlSelectSprite").Init())},t}(c)).prototype,"prefabbuttonlevel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"selectSpriteNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/shape-debug-info.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,s;return{setters:[function(e){t=e.defineProperty,n=e.createClass},function(e){i=e.cclegacy,s=e._decorator}],execute:function(){var r,o,a;i._RF.push({},"7327aFYpXBNjJp2Cef6pKb3","shape-debug-info",void 0);var u=s.ccclass;s.property,e("default",u("ShapeDebugInfo")((a=o=function(){function e(){t(this,"isEnable",!1),t(this,"isShowLimitLine",!0),t(this,"isShowPartDebugLine",!0),t(this,"isIgnoreMatchedPart",!1)}var i=e.prototype;return i.IsShowLinitedLine=function(){return this.isShowLimitLine},i.IsEnable=function(){return this.isEnable},i.IsShowPartDebugLine=function(){return this.isShowPartDebugLine},i.IsIgnoreMatchedPart=function(){return this.isIgnoreMatchedPart},i.SetEnable=function(e){this.isEnable=e},i.SetShowLineLimited=function(e){this.isShowLimitLine=e},i.SetShowPartLine=function(e){this.isShowPartDebugLine=e},i.SetIgnoreMatched=function(e){this.isIgnoreMatchedPart=e},n(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}(),t(o,"_instance",null),r=a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/dl-joints.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-level.ts","./dl-particle-edit.ts"],(function(t){"use strict";var i,n,e,o,s,r,l,a,u,c,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,u=t.Component},function(t){c=t.PartJoint},function(t){h=t.default}],execute:function(){var d,p,J,f,m,g,v,N,y,b,x,C,P,B,I;r._RF.push({},"795feIHcX5Mip4Mxo7kH0Ga","dl-joints",void 0);var w=l.ccclass,z=l.property;t("DlJoints",(d=w("DlJoints"),p=z({type:cc.Prefab}),J=z(a),f=z(a),m=z(a),g=z(a),v=z(a),d((b=i((y=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(o(i),"prefabbuttonlevel",b,o(i)),e(o(i),"inputNode",x,o(i)),e(o(i),"inputJointposx",C,o(i)),e(o(i),"inputJointposy",P,o(i)),e(o(i),"inputJointtarget",B,o(i)),e(o(i),"hintNode",I,o(i)),s(o(i),"listJoint",[]),s(o(i),"selectedJointName",""),s(o(i),"currentCount",1),i}n(i,t);var r=i.prototype;return r.start=function(){this.inputNode&&""==this.selectedJointName&&(this.inputNode.active=!1,this.hintNode.setPosition(-9999,0,0))},r.AddJoint=function(){this.selectedJointName="joint"+this.currentCount,this.currentCount++;var t=cc.instantiate(this.prefabbuttonlevel);t.getComponent("ButtonLevel").InitButton(this.selectedJointName,"DlJoints"),t.name=this.selectedJointName,this.node.addChild(t);var i=new c;i.x=0,i.y=0,i.id=h.instance.GetCurrentPartinfo().spriteName+";",this.listJoint.push(i),this.inputJointposx.getComponent("cc.EditBox").string=""+i.x,this.inputJointposy.getComponent("cc.EditBox").string=""+i.y,this.inputJointtarget.getComponent("cc.EditBox").string=i.id,h.instance.UpdateJointInfo(this.listJoint),this.inputNode.active=!0,this.hintNode.setPosition(i.x,i.y,0)},r.UpdateSelect=function(t){this.selectedJointName=t,console.log("DlJoints update button: "+t);for(var i=0,n=1;n<this.node.children.length;n++){var e=this.node.children[n];e.name!=t?e.getComponent("ButtonLevel").SetSelectedButton(!1):i=n}var o=this.listJoint[i-1];this.inputJointposx.getComponent("cc.EditBox").string=""+o.x,this.inputJointposy.getComponent("cc.EditBox").string=""+o.y,this.inputJointtarget.getComponent("cc.EditBox").string=o.id,this.inputNode.active=!0,this.hintNode.setPosition(o.x,o.y,0)},r.RemoveCurrent=function(){this.selectedJointName;for(var t=0,i=1;i<this.node.children.length;i++){var n=this.node.children[i];if(n.name==this.selectedJointName){this.selectedJointName="",this.inputNode.active=!1,n.destroy(),t=i-1,this.hintNode.setPosition(-9999,0,0);break}}for(i=t;i<this.listJoint.length-1;i++)this.listJoint[i].x=this.listJoint[i+1].x,this.listJoint[i].y=this.listJoint[i+1].y,this.listJoint[i].id=this.listJoint[i+1].id;this.listJoint.pop(),h.instance.UpdateJointInfo(this.listJoint)},r.HideInputJoint=function(){this.inputNode.active=!1,this.hintNode.setPosition(-9999,0,0)},r.ShowJointInfo=function(){this.listJoint=h.instance.GetCurrentPartinfo().partJoints,this.selectedJointName="",this.inputNode.active=!1,this.hintNode.setPosition(-9999,0,0),this.currentCount=0;for(var t=this.node.children.length-1;t>=1;t--){var i=this.node.children[t];i.removeFromParent(),i.destroy()}for(var n=0;n<this.listJoint.length;n++){var e="joint"+this.currentCount,o=cc.instantiate(this.prefabbuttonlevel);o.getComponent("ButtonLevel").InitButton(e,"DlJoints"),o.name=e,this.currentCount++,this.node.addChild(o)}},r.UpdateJointInfo=function(t){this.listJoint=t;var i=this.GetcurrentJointindex();i>=0&&this.hintNode.setPosition(this.listJoint[i].x,this.listJoint[i].y,0)},r.GetcurrentJointindex=function(){for(var t=-1,i=1;i<this.node.children.length;i++){this.node.children[i].name==this.selectedJointName&&(t=i-1)}return t},r.UnselectCurrentJoint=function(){this.selectedJointName="",this.inputNode.active=!1,this.hintNode.setPosition(-9999,0,0)},r.GetHintNode=function(){return""==this.selectedJointName?null:this.hintNode},r.UpdateCurrentJointPos=function(t){this.inputJointposx.getComponent("cc.EditBox").string=""+t.x,this.inputJointposy.getComponent("cc.EditBox").string=""+t.y;var i=this.GetcurrentJointindex();i>=0&&(this.listJoint[i].x=t.x,this.listJoint[i].y=t.y),h.instance.UpdateJointInfo(this.listJoint)},i}(u)).prototype,"prefabbuttonlevel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(y.prototype,"inputNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(y.prototype,"inputJointposx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(y.prototype,"inputJointposy",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(y.prototype,"inputJointtarget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(y.prototype,"hintNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=y))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/destroys-effect.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,c,r,i;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,i=t.Component}],execute:function(){var s;c._RF.push({},"83bbaRAPBpEVrvoEwq1t/Na","destroys-effect",void 0);var a=r.ccclass;r.property,t("DestroysEffect",a("DestroysEffect")(s=function(t){function c(){for(var n,c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return n=t.call.apply(t,[this].concat(r))||this,e(o(n),"callBackFunction",null),n}n(c,t);var r=c.prototype;return r.start=function(){var t=this;this.node.getComponent("cc.Animation").on("finished",(function(){console.log("---- animation effect destroyed "),t.callBackFunction&&t.callBackFunction(),t.node.destroy()}))},r.AddCallBack=function(t){this.callBackFunction=t},c}(i))||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/editboxinputvalue.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./dl-particle-edit.ts","./dl-exportleveljs.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,u;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,o=e.Component},function(e){s=e.default},function(e){u=e.default}],execute:function(){var p;a._RF.push({},"89c80EZRdJI5oOfwtQFOUfy","editboxinputvalue",void 0);var l=i.ccclass;i.property,e("Editboxinputvalue",l("Editboxinputvalue")(p=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(r(t),"editBox",void 0),t}t(a,e);var i=a.prototype;return i.start=function(){this.editBox=this.node.getComponentInChildren("cc.EditBox")},i.onTextChange=function(e,t){var n,r=this.editBox.string;if(""!=r)if("minmovex"==t)n=Number.parseFloat(r),u.instance.UpdateMinMove(n);else if("maxmovex"==t)n=Number.parseFloat(r),u.instance.UpdateMaxMove(n);else if("time"==t)n=Number.parseFloat(r),u.instance.UpdateTime(n);else if("linelimited"==t)n=Number.parseFloat(r),u.instance.UpdateLineLimited(n);else if("fallspeed"==t){n=Number.parseFloat(r);var a=s.instance.GetCurrentPartinfo();a.fallSpeed=n,s.instance.UpdateCurrentPartinfo(a)}else if("movespeed"==t){n=Number.parseFloat(r);var i=s.instance.GetCurrentPartinfo();i.moveSpeed=n,s.instance.UpdateCurrentPartinfo(i)}else if("scale"==t){n=Number.parseFloat(r);var o=s.instance.GetCurrentPartinfo();o.scale=n,s.instance.UpdateCurrentPartinfo(o)}else if("partposx"==t){n=Number.parseFloat(r);var p=s.instance.GetCurrentPartinfo();p.endPoint.x=n,s.instance.UpdateCurrentPartinfo(p)}else if("partposy"==t){n=Number.parseFloat(r);var l=s.instance.GetCurrentPartinfo();l.endPoint.y=n,s.instance.UpdateCurrentPartinfo(l)}else if("jointposx"==t){n=Number.parseFloat(r);var c=s.instance.GetCurrentPartinfo(),f=s.instance.GetCurrentJointIndex();c.partJoints[f].x=n,s.instance.UpdateCurrentPartinfo(c)}else if("jointposy"==t){n=Number.parseFloat(r);var d=s.instance.GetCurrentPartinfo(),v=s.instance.GetCurrentJointIndex();d.partJoints[v].y=n,s.instance.UpdateCurrentPartinfo(d)}else if("jointtarget"==t){var m=s.instance.GetCurrentPartinfo(),C=s.instance.GetCurrentJointIndex();m.partJoints[C].id=r,s.instance.UpdateCurrentPartinfo(m)}},a}(o))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/button-level.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,c,i,s,l;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,i=t._decorator,s=t.EventHandler,l=t.Component}],execute:function(){var r;c._RF.push({},"8aafe1tCfZCd6rzvuA7sEte","button-level",void 0);var u=i.ccclass;i.property,t("ButtonLevel",u("ButtonLevel")(r=function(t){function c(){for(var e,c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,n(o(e),"updateSelectClassName",""),n(o(e),"isButtonSelected",!1),e}e(c,t);var i=c.prototype;return i.start=function(){},i.InitButton=function(t,e){this.updateSelectClassName=e,this.node.getComponentInChildren("cc.Label").string=t;var n=this.node.getComponent("cc.Button"),o=new s;o.target=this.node,o.component="ButtonLevel",o.handler="OnClickButton",o.customEventData=t,n.clickEvents.push(o)},i.OnClickButton=function(t,e){if(0==this.isButtonSelected&&(console.log("click on button: "+e),this.isButtonSelected=!0,this.SetSelectedButton(!0),this.node.parent)){var n=this.node.parent.getComponent(this.updateSelectClassName);n&&n.UpdateSelect(e)}},i.SetSelectedButton=function(t){var e=this.node.getComponent("cc.Button");this.isButtonSelected=t,e.interactable=!t},c}(l))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/shape-setting.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,s;return{setters:[function(t){e=t.defineProperty,n=t.createClass},function(t){a=t.cclegacy,s=t._decorator}],execute:function(){var i,o,l;t("GAME_CONTROLL_TYPE",void 0),a._RF.push({},"dfde3msHX5IV6TVsDyomtyx","shape-setting",void 0);var r,c=s.ccclass;s.property;!function(t){t[t.DRAG=0]="DRAG",t[t.TAP=1]="TAP"}(r||(r=t("GAME_CONTROLL_TYPE",{})));t("default",c("ShapeSetting")((l=o=function(){function t(){e(this,"gameControllType",r.DRAG),e(this,"settingSaveName","shapethecurves_setting")}var a=t.prototype;return a.GetGameControllType=function(){return this.gameControllType},a.SetGameControllType=function(t){this.gameControllType=t},a.LoadSetting=function(){var t=cc.sys.localStorage.getItem(this.settingSaveName);if(t&&t.length>0){var e=t.split(";");this.gameControllType=Number.parseInt(e[0])}else this.SetDefaultValue()},a.SaveSetting=function(){var t=""+this.gameControllType;cc.sys.localStorage.setItem(this.settingSaveName,t)},a.SetDefaultValue=function(){this.gameControllType=r.DRAG},n(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t,t._instance.LoadSetting()),t._instance}}]),t}(),e(o,"_instance",null),i=l))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/input-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game-manager.ts"],(function(t){"use strict";var o,e,i,h,n,s,c,u,r;return{setters:[function(t){o=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){h=t.cclegacy,n=t._decorator,s=t.Vec2,c=t.Vec3,u=t.Component},function(t){r=t.default}],execute:function(){var a;h._RF.push({},"dfe8fhSsftEu5rjOUoMW3fv","input-controller",void 0);var T=n.ccclass;n.property,t("InputController",T("InputController")(a=function(t){function h(){for(var o,h=arguments.length,n=new Array(h),u=0;u<h;u++)n[u]=arguments[u];return o=t.call.apply(t,[this].concat(n))||this,e(i(o),"posTouchStart",new s),e(i(o),"posTouchMove",new s),e(i(o),"posTouchEnd",new s),e(i(o),"isTouchMove",!1),e(i(o),"isTouchEnd",!0),e(i(o),"isTouchStart",!1),e(i(o),"timeDoubleTap",.35),e(i(o),"touchSize",new cc.Size),e(i(o),"canvasSize",new cc.Size),e(i(o),"canvasAnchor",new s),e(i(o),"nodePosition",new c),e(i(o),"timePreTouchStart",0),e(i(o),"timeCurrentTouchStart",0),e(i(o),"arrayDeltaTimeTouch",[]),e(i(o),"indextDeltaTimeTouch",-1),o}o(h,t);var n=h.prototype;return n.start=function(){var t=cc.find("Canvas");this.canvasSize=t.getContentSize(),this.canvasAnchor=t.getAnchorPoint(),this.touchSize=this.node.getContentSize(),this.touchSize.width*=this.node.getScale().x,this.touchSize.height*=this.node.getScale().y,console.log("node size: "+this.touchSize+" canvas size: "+this.canvasSize),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},n.update=function(t){},n.SetTouchSize=function(t){this.touchSize=t},n.onTouchStart=function(t){var o,e=this.GetRealPosTouch(t.getLocation());this.IsOutTouchArea(e)||(this.timePreTouchStart=this.timeCurrentTouchStart,this.timeCurrentTouchStart=null===(o=r.instance)||void 0===o?void 0:o.GetCurrentTime(),this.isTouchStart=!0,this.isTouchEnd=!1,this.posTouchStart=e)},n.onTouchEnd=function(t){var o=this.GetRealPosTouch(t.getLocation());this.isTouchMove=!1,this.isTouchEnd=!0,this.isTouchStart=!1,this.IsOutTouchArea(o)||(this.posTouchEnd=o,this.indextDeltaTimeTouch=-1)},n.onTouchMove=function(t){var o=this.GetRealPosTouch(t.getLocation());this.IsOutTouchArea(o)?(this.isTouchEnd=!0,this.isTouchMove=!1):(this.posTouchMove=o,this.isTouchEnd=!1,this.isTouchMove=!0)},n.IsTouchStart=function(){return this.isTouchStart},n.IsTouchEnd=function(){return this.isTouchEnd},n.IsTouchMove=function(){return this.isTouchMove},n.GetMoveVector=function(){var t=new s(0,0);return(this.isTouchMove||this.isTouchEnd)&&(t.x=this.posTouchMove.x-this.posTouchStart.x,t.y=this.posTouchMove.y-this.posTouchStart.y),t},n.IsOutTouchArea=function(t){this.node.worldPosition;return t.x<-this.touchSize.width/2||t.x>this.touchSize.width/2||(t.y<-this.touchSize.height/2||t.y>this.touchSize.height/2)},n.GetRealPosTouch=function(t){var o=new s(t.x,t.y);return.5==this.canvasAnchor.x&&(o.x-=this.node.worldPosition.x),.5==this.canvasAnchor.y&&(o.y-=this.node.worldPosition.y),o},n.IsDoubleTouch=function(){return this.timeCurrentTouchStart!=this.timePreTouchStart&&this.timeCurrentTouchStart-this.timePreTouchStart<this.timeDoubleTap},n.GetPosTouchStart=function(){return this.posTouchStart},n.GetPosTouchMove=function(){return this.posTouchMove},n.GetPosTouchEnd=function(){return this.posTouchEnd},n.SetTouchStartToMove=function(){this.posTouchStart=this.posTouchMove},n.SetNodePosition=function(t){},n.SetDeltaTimeTouch=function(t){this.arrayDeltaTimeTouch=t},n.IsTouchOnDeltaTime=function(){if(0==this.isTouchStart)return!1;if(this.indextDeltaTimeTouch<0)return this.indextDeltaTimeTouch=0,console.log("input first touch"),!0;var t=r.instance.GetCurrentTime()-this.timeCurrentTouchStart;return t>this.arrayDeltaTimeTouch[this.indextDeltaTimeTouch]&&(console.log("input touch : "+this.indextDeltaTimeTouch+" deltatime: "+t),this.indextDeltaTimeTouch++,!0)},h}(u))||a);h._RF.pop()}}}));

System.register("chunks:///_virtual/rotate-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,s,i,o,r,n,c;return{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,r=t.Vec3,n=t.Quat,c=t.Component}],execute:function(){var l;t("ROTATE_TYPE",void 0),i._RF.push({},"e3177sKDvRKe55pheeHXC3q","rotate-controller",void 0);var u,h=o.ccclass;o.property;!function(t){t.NONE="",t.x="x",t.xa="x'",t.y="y",t.ya="y'",t.U="U",t.Ua="U'",t.u="u",t.ua="u'",t.D="D",t.Da="D'",t.d="d",t.da="d'",t.R="R",t.Ra="R'",t.r="r",t.ra="r'",t.L="L",t.La="L'",t.l="l",t.la="l'",t.B="B",t.Ba="B'",t.b="b",t.ba="b'",t.F="F",t.Fa="F'",t.f="f",t.fa="f'",t.M="M",t.Ma="M'",t.E="E",t.Ea="E'",t.S="S",t.Sa="S'"}(u||(u=t("ROTATE_TYPE",{})));t("default",h("RotateController")(l=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,a(s(e),"timeRotateStart",0),a(s(e),"isRotate",!1),a(s(e),"timeRotate",1),a(s(e),"rorateAxis",new r),a(s(e),"rotateAngle",90),a(s(e),"targetAngle",new r),a(s(e),"targetQuat",new n),e}e(i,t);var o=i.prototype;return o.start=function(){this.timeRotateStart=0},o.update=function(t){if(this.isRotate)if(this.timeRotateStart+=t,this.timeRotateStart>=this.timeRotate)this.isRotate=!1,this.node.setRotation(this.targetQuat);else{var e=new n;n.fromAxisAngle(e,this.rorateAxis,this.rotateAngle/this.timeRotate*t*(3.14159265/180));var a=new n,s=new n;this.node.getRotation(a),n.multiply(s,e,a),this.node.setRotation(s)}},o.DoRotate=function(t){if(this.isRotate)return!1;switch(t){case u.x:case u.Ma:case u.R:case u.r:case u.La:case u.la:this.rorateAxis=new r(-1,0,0);break;case u.xa:case u.M:case u.Ra:case u.ra:case u.L:case u.l:this.rorateAxis=new r(1,0,0);break;case u.y:case u.U:case u.u:case u.Da:case u.da:case u.Ea:this.rorateAxis=new r(0,-1,0);break;case u.ya:case u.Ua:case u.ua:case u.D:case u.d:case u.E:this.rorateAxis=new r(0,1,0);break;case u.F:case u.f:case u.Ba:this.rorateAxis=new r(0,0,-1);break;case u.Fa:case u.fa:case u.B:this.rorateAxis=new r(0,0,1)}this.isRotate=!0,this.timeRotateStart=0;var e=new n;n.fromAxisAngle(e,this.rorateAxis,this.rotateAngle*(3.14159265/180));var a=new n;return this.node.getRotation(a),n.multiply(this.targetQuat,e,a),!0},o.SetTimeRotate=function(t){this.timeRotate=t},o.RotateAround=function(t,e){var a=new n;n.fromAxisAngle(a,t,e*(3.14159265/180));var s=new n,i=new n;this.node.getRotation(s),n.multiply(i,a,s),this.node.setRotation(i)},o.IsRotating=function(){return this.isRotate},o.SetRotateAngle=function(t){this.rotateAngle=t},o.RotateToAngle=function(t,e){if(0!=t){var a=new n,s=new n;n.fromAxisAngle(a,e,t*(3.14159265/180));var i=new n;this.node.getRotation(i),n.multiply(s,a,i),this.node.setRotation(s)}},i}(c))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/shape-the-curves.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-manager.ts"],(function(e){"use strict";var t,n,u,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,u=e._decorator,o=e.Component},function(e){r=e.default}],execute:function(){var s;n._RF.push({},"ea30fU/pw9HKL/8gK8/n95m","shape-the-curves",void 0);var c=u.ccclass;u.property,e("ShapeTheCurves",c("ShapeTheCurves")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var u=n.prototype;return u.start=function(){},u.update=function(e){},u.OnButtonPause=function(){},u.OnButtonRefresh=function(){r.instance.RotateShape()},u.OnButtonDelete=function(){r.instance.DeleteShape()},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/dl-select-sprite.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resource-manager.ts","./dl-particle-edit.ts"],(function(e){"use strict";var t,n,i,r,o,l,a,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,c=e.Component},function(e){s=e.default},function(e){u=e.default}],execute:function(){var p,d,f,v,h;l._RF.push({},"eb72fG8eR5GZ7D9fcWmncTL","dl-select-sprite",void 0);var m=a.ccclass,b=a.property;e("DlSelectSprite",(p=m("DlSelectSprite"),d=b({type:cc.Prefab}),p((h=t((v=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(r(t),"prefabbuttonlevel",h,r(t)),o(r(t),"spritesName",[]),t}n(t,e);var l=t.prototype;return l.start=function(){},l.Init=function(){var e,t=this;this.spritesName=s.instance.GetArraySpriteName(),(null===(e=this.node.getChildByName("Label"))||void 0===e?void 0:e.getComponent("cc.Label")).string="select sprite",this.spritesName.forEach((function(e){var n=cc.instantiate(t.prefabbuttonlevel);n.getComponent("ButtonLevel").InitButton(e,"DlSelectSprite"),n.name=e,t.node.addChild(n)}))},l.UpdateSelect=function(e){var t=this;console.log("DlSelectSprite update button: "+e),this.spritesName.forEach((function(e){var n;null===(n=t.node.getChildByName(e))||void 0===n||n.getComponent("ButtonLevel").SetSelectedButton(!1)})),u.instance.AddParticle(e)},t}(c)).prototype,"prefabbuttonlevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/resource-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,a,t,i;return{setters:[function(r){e=r.defineProperty,a=r.createClass},function(r){t=r.cclegacy,i=r._decorator}],execute:function(){var s,o,n;t._RF.push({},"fcbc7FzB7lP7qagSkx/4Tua","resource-manager",void 0);var d=i.ccclass;i.property,r("default",d("Typescript")((n=o=function(){function r(){e(this,"isLoadFinished",!1),e(this,"arrayLoadedSpriteFolder",{}),e(this,"arrayLoadedPrefabFolder",{}),e(this,"arraySprite",{}),e(this,"arrayPrefab",{})}var t=r.prototype;return t.ReleaseSprite=function(r,e,a){for(var t in r)cc.log("----release Sprite: "+t),cc.assetManager.releaseAsset(r[t]);e[a]=!1},t.IsLoadedSpriteFolder=function(r){return!!this.arrayLoadedSpriteFolder[r]&&this.arrayLoadedSpriteFolder[r]},t.IsLoadedPrefabFolder=function(r){return!!this.arrayLoadedPrefabFolder[r]&&this.arrayLoadedPrefabFolder[r]},t.LoadSpritFolder=function(r,e){var a=this;this.isLoadFinished=!1;var t=r.substring(r.lastIndexOf("/")+1);this.IsLoadedSpriteFolder(t)?this.isLoadFinished=!0:(e&&this.ReleaseSprite(this.arraySprite,this.arrayLoadedSpriteFolder,t),cc.resources.loadDir(r,(function(e,t){cc.log("-------------LoadSpritFolder: "+r),t&&t.forEach((function(r){r instanceof cc.SpriteFrame&&(cc.log("-------------LoadSpritFolder: "+r._name),a.arraySprite[r._name.toLowerCase()]=r)})),a.isLoadFinished=!0;var i=r.substring(r.lastIndexOf("/")+1);a.arrayLoadedSpriteFolder[i]=!0})))},t.LoadPrefabsFolder=function(r,e){var a=this;this.isLoadFinished=!1;var t=r.substring(r.lastIndexOf("/")+1);e&&this.ReleaseSprite(this.arrayPrefab,this.arrayLoadedPrefabFolder,t),cc.resources.loadDir(r,(function(e,t){if(t){t.forEach((function(r){cc.log("-------------load Prefabs: "+r.data._name),r instanceof cc.Prefab&&(a.arrayPrefab[r.data._name.toLowerCase()]=r)}));var i=r.substring(r.lastIndexOf("/")+1);a.arrayLoadedPrefabFolder[i]=!0}}))},t.GetSprites=function(r){return this.arraySprite[r]},t.GetPrefabs=function(r){return this.arrayPrefab[r]},t.GetArraySpriteName=function(){var r=[];for(var e in this.arraySprite)r.push(e);return r},a(r,null,[{key:"instance",get:function(){return null==r._instance&&(r._instance=new r),r._instance}}]),r}(),e(o,"_instance",null),s=n))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/shape-level.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,a;return{setters:[function(t){e=t.defineProperty,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator}],execute:function(){n._RF.push({},"fd229aCcO5HnqzebpWeVfJ3","shape-level",void 0);a.ccclass,a.property;var s=t("PartPoint",(function(){e(this,"x",0),e(this,"y",0)})),o=t("PartJoint",(function(){e(this,"x",0),e(this,"y",0),e(this,"id","")})),r=t("PartInfo",(function(){e(this,"spriteName",""),e(this,"scale",0),e(this,"fallSpeed",0),e(this,"moveSpeed",0),e(this,"startPoint",void 0),e(this,"endPoint",void 0),e(this,"partJoints",[])})),p=(t("ShapeLevelInfo",(function(){e(this,"levelName",""),e(this,"timeLimited",0),e(this,"targetMacthedParticle",0),e(this,"minMoveX",0),e(this,"maxMoveX",0),e(this,"limitedLinePosY",0),e(this,"partInfo",[])})),t("default",function(){function t(){e(this,"LEVEL1",{levelName:"bambi",timeLimited:50,targetMacthedParticle:0,minMoveX:40,maxMoveX:50,limitedLinePosY:-210,partInfo:[{spriteName:"1",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-147,y:-136},partJoints:[{x:-148,y:-87,id:"1;5"},{x:-126,y:-74,id:"1;2"}]},{spriteName:"5",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-121,y:-30},partJoints:[{x:-93,y:26,id:"5;6"}]},{spriteName:"6",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-57,y:54},partJoints:[{x:-32,y:81,id:"6;7"}]},{spriteName:"7",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-35,y:118},partJoints:[{x:-4,y:141,id:"7;8"}]},{spriteName:"8",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:24,y:124},partJoints:[{x:45,y:83,id:"8;9"}]},{spriteName:"9",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:36,y:40},partJoints:[{x:33,y:-4,id:"9;10"}]},{spriteName:"10",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:21,y:-44},partJoints:[{x:-4,y:-43,id:"10;11"},{x:42,y:-85,id:"10;4"}]},{spriteName:"2",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-96,y:-138},partJoints:[]},{spriteName:"11",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-19,y:-63},partJoints:[{x:-48,y:-41,id:"11;12"},{x:-20,y:-86,id:"11;2"},{x:7,y:-88,id:"11;2"}]},{spriteName:"12",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:-75.5,y:-62},partJoints:[]},{spriteName:"3",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:12,y:-147},partJoints:[]},{spriteName:"4",scale:1.5,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300},endPoint:{x:58,y:-139},partJoints:[]}]}),e(this,"LEVELDATA",[this.LEVEL1])}var n=t.prototype;return n.GetLevelInfos=function(t){var e=cc.sys.localStorage.getItem("SHAPETHECURVES_CURRENT_LEVEL");return e&&e.length>0?JSON.parse(e):((t<0||t>=this.LEVELDATA.length)&&(t=0),this.LEVELDATA[t])},n.ClonePartInfo=function(t){var e=new r;e.spriteName=t.spriteName,e.scale=t.scale,e.fallSpeed=t.fallSpeed,e.moveSpeed=t.moveSpeed,e.startPoint=new s,e.startPoint.x=t.startPoint.x,e.startPoint.y=t.startPoint.y,e.endPoint=new s,e.endPoint.x=t.endPoint.x,e.endPoint.y=t.endPoint.y,e.partJoints=[];for(var i=0;i<t.partJoints.length;i++){var n=new o;n.x=t.partJoints[i].x,n.y=t.partJoints[i].y,n.id=t.partJoints[i].id,e.partJoints.push(n)}return e},n.CopyPartInfoValue=function(t,e){e.spriteName=t.spriteName,e.scale=t.scale,e.fallSpeed=t.fallSpeed,e.moveSpeed=t.moveSpeed,e.startPoint.x=t.startPoint.x,e.startPoint.y=t.startPoint.y,e.endPoint.x=t.endPoint.x,e.endPoint.y=t.endPoint.y,e.partJoints=[];for(var i=0;i<t.partJoints.length;i++){var n=new o;n.x=t.partJoints[i].x,n.y=t.partJoints[i].y,n.id=t.partJoints[i].id,e.partJoints.push(n)}},i(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}()));e(p,"_instance",null),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./game-manager.ts","./resource-manager.ts","./shape-level.ts","./shape-debug-info.ts","./shape-setting.ts","./shape-manager.ts","./particle.ts","./dl-particle-edit.ts","./dl-exportleveljs.ts","./toggle-game-controll.ts","./dl-particle-node.ts","./select-level.ts","./dl-select-level.ts","./dl-joints.ts","./destroys-effect.ts","./editboxinputvalue.ts","./button-level.ts","./input-controller.ts","./rotate-controller.ts","./shape-the-curves.ts","./dl-select-sprite.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});